# 基于图像识别的自助洗衣服务系统设 计与实现

学 院:信息科学与工程学院

专业班级:计算机科学与技术(专升本)2301 班

姓 名:胡鹏

学 号:20231114025

指导教师:高巍 讲师

2025 年 5 月

## 基于图像识别的自助洗衣服务系统设 计与实现

**Design and Implementation of an Image Recognition-Based Self-Service Laundry System**

### 摘 要

<span id="page-2-0"></span>针对传统自助洗衣服务设备状态更新迟缓、人工巡检效率低下及用户体验不佳等 问题,本系统研发了基于图像识别的智能化管理方案。该方案运用优化的光学字符识 别OCR(Optical Character Recognition)技术,结合图像预处理,实现了对洗衣机面 板状态的实时精准识别(准确率高达95%以上),有效应对了复杂光照及安装角度带 来的挑战。

系统采用B/S架构,前端自适应多终端,后端Node.js与MySQL确保高效服务,集 成了用户预约、钱包系统、设备管理与通知系统等功能。并且管理端支持OCR自动轮 巡或人工手动检测识别,并能进行批量设备状态监测与故障检测,使得人工巡检成本 锐减逾四成。

实际运行测试数据证明,此系统可以显著提升设备周转率与用户满意度,为公共 设施智能化改造提供了范例。后续工作可深化数据分析并拓展移动端服务。

关键词:图像识别 OCR 自助洗衣服务 设备状态监测 故障检测

**Abstract**

<span id="page-3-0"></span>To address issues in traditional self-service laundry systems such as delayed equipment

status updates, inefficient manual inspections, and suboptimal user experience, this research

developed an intelligent management solution based on image recognition. The system

employs optimized Optical Character Recognition (OCR) technology integrated with image

preprocessing, achieving real-time and precise identification of washing machine panel

status (with over 95% accuracy). This effectively resolves challenges posed by complex

lighting conditions and installation angles.

Adopting a Browser/Server (B/S) architecture, the system features an adaptive front-

end design for multi-terminal compatibility, while the back-end utilizes Node.js and MySQL

to ensure high-performance services. Key functional modules include user reservations, a

wallet system, equipment management, and notification services. The administrative

interface supports both automatic OCR-based polling and manual detection, enabling batch

equipment status monitoring and fault diagnosis, thereby reducing manual inspection costs

by over 40%.

Operational test data demonstrates that the system significantly improves equipment

turnover rates and user satisfaction, establishing a paradigm for intelligent transformation

of public facilities. Future work will focus on deepening data analytics capabilities and

expanding mobile service offerings.

Key words:image recognition OCR self-service laundry service

Equipment Condition Monitoring Fault Detection

II

## 目 录

| 摘 要           | I  |
|---------------|----|
| Abstract      | II |
| 1 绪 论         | 1  |
| 1.1 研究目的和意义   | 1  |
| 1.1.1 研究目的    | 1  |
| 1.1.2 研究意义    | 1  |
| 1.2 国内外研究现状   | 2  |
| 1.2.1 国内研究现状  | 2  |
| 1.2.2 国外研究现状  | 2  |
| 1.3 研究的主要内容   | 3  |
| 2 可行性分析和需求分析  | 4  |
| 2.1 可行性分析     | 4  |
| 2.1.1 市场可行性分析 | 4  |
| 2.1.2 技术可行性分析 | 4  |
| 2.3 经济可行性分析   | 5  |
| 2.2 需求分析      | 5  |
| 3 系统分析        | 7  |
| 3.1 设计思想      | 7  |
| 3.2 功能模块需求    | 7  |
| 3.2.1 用户端页面   | 7  |
| 3.2.2 管理员端页面  | 8  |
| 3.3 系统主要流程分析  | 9  |
| 3.4 系统功能模块图 1 | 1  |
| 4 系统设计 1      | 3  |
| 4.1 系统架构设计 1  | 3  |
| 4 2 粉据库设计 1   | 1  |

| 4.2.1 系统 E-R 模型图       | 14 |
|------------------------|----|
| 4.2.2 数据表              | 17 |
| 4.3 系统功能设计 2           | 24 |
| 4.3.1 设备管理设计 2         | 24 |
| 4.3.2 用户预约设计 2         | 26 |
| 4.3.3 用户充值设计 2         | 27 |
| 4.3.4 通知系统设计 2         | 28 |
| 4.3.5 管理员端与用户端信息交互设计 2 | 29 |
| 4.4 OCR 图像识别与自动轮巡功能设计  | 29 |
| 4.4.1 OCR 图像识别功能设计     | 30 |
| 4. 4. 2 OCR 自动轮巡功能设计   | 30 |
| 5 系统实现 3               | 32 |
| 5.1 OCR 图像识别与自动轮巡模块实现  | 32 |
| 5.1.1 OCR 图像识别模块实现     | 32 |
| 5.1.2 OCR 自动轮巡模块实现     | 36 |
| 5.2 管理端模块实现            | 41 |
| 5. 2. 1 登录             | 41 |
| 5. 2. 2 管理员端仪表盘实现      | 42 |
| 5. 2. 3 洗衣机管理模块实现 4    | 44 |
| 5. 2. 4 OCR 图像识别模块实现   | 46 |
| 5. 2. 5 OCR 自动轮巡模块实现   | 48 |
| 5.2.6 用户管理模块实现         | 48 |
| 5.2.7 系统设置模块实现         | 50 |
| 5.2.8 全局搜索功能实现         | 50 |
| 5.2.9 系统集成与通知机制实现      | 52 |
| 5.3 用户端模块实现            | 54 |
| 5.3.1 登录实现             | 54 |
| 5. 3. 2 仪表盘模块设计与实现     | 54 |

| 5.3.3 洗衣机模块实现          | 56 |
|------------------------|----|
| 5.3.4 我的预约模块实现         | 57 |
| 5. 3. 5 我的钱包模块实现       | 57 |
| 5.3.6 使用报告模块实现         | 58 |
| 5.3.7 反馈建议模块实现         | 61 |
| 6 系统测试                 | 63 |
| 6.1 测试的目的              | 63 |
| 6.2 系统功能测试             | 63 |
| 6.3 用例测试               | 67 |
| 6.3.1 OCR 图像识别模块专项测试分析 | 67 |
| 6.3.2 划分等价类            | 67 |
| 6.3.3 测试用例             | 68 |
| 6.4 测试总结               | 70 |
| 6.4.1 测试结论             | 71 |
| 7 研究成果与社会环境等关系         | 72 |
| 7.1 课题研究成果             | 72 |
| 7.2 研究成果与社会的发展         | 72 |
| 结 论                    | 74 |
| 致 谢                    | 75 |
| 参考文献                   | 76 |

### 1 绪 论

### <span id="page-7-1"></span><span id="page-7-0"></span>1.1 研究目的和意义

#### <span id="page-7-2"></span>1.1.1 研究目的

随着城市化进程加速及共享经济的普及,高校和社区等地的自助洗衣需求日益增 长。然而,当前洗衣设备多依赖人工巡查或简单传感器监控,这导致了设备状态更新 滞后、故障响应慢、服务单一等问题。用户常无法实时了解设备情况,故障上报繁琐, 造成设备闲置和运营成本上升,高峰期使用冲突也时有发生,影响效率。

针对这些痛点,物联网与智能视觉技术的结合提供了新的解决方案。通过图像识 别精确判断洗衣机(如空闲、运行中或故障),弥补了传统传感器的不足。用户可通 过手机即时收到设备状态和故障提醒,提升了服务透明度。引入预约管理,则能优化 设备分配,减少等待,并加强运营。

此方案符合智慧城市发展趋势,帮助运营商收集设备使用数据,为维护和决策提 供支持,同时在降低人力成本、提升用户体验和服务标准化方面也颇具价值。

#### <span id="page-7-3"></span>1.1.2 研究意义

目前公共洗衣服务多依赖人工或简单计时管理,常导致信息更新慢、故障处理不 及时、资源分配不均等问题。用户需反复查看设备,故障报修流程长,高峰期排队冲 突多,影响设备效率。本研究旨在通过机器视觉与智能调度,构建新的洗衣服务管理 模式。

该模式的核心在于利用机器视觉技术,精确识别洗衣设备的工作状态(如空闲、 运行中、完成)和故障情况,这比传统传感器或人工检查更为可靠且成本更低。数据 显示,此方法状态识别准确率可达95%,比较传统方案有显著提升。

在应用层面,用户可以实时查看设备动态、预约机器并接收进度提醒,平均等待 时间缩短约35%。运营方通过智能调度能减少设备闲置,运维成本降低约40%。更重 要的是,该方案展示了如何通过软件升级使传统公共设施(如烘干设备、共享充电桩 等)智能化,为社区服务数字化提供了经济高效的改造思路。

行业数据显示,如高校共享洗衣设备的使用效率有较大提升空间(一项2022年教 育部相关中心数据显示,147所高校设备日均使用率约为62.1%),这多因管理方式和 信息沟通不畅所致。本系统应用后,预计可将设备周转率提高约20%,运维人力成本 减少约40%,并将故障响应时间压缩至5分钟以内,有助于行业标准化运营。

本研究结合了机器视觉与服务工程,不仅提出了一个完整的理论框架,也展示了 其学术创新和实际商业价值,为公共服务领域的数字化升级提供了可借鉴的路径。

### <span id="page-8-0"></span>1.2 国内外研究现状

### <span id="page-8-1"></span>1.2.1 国内研究现状

近年来,国内自助洗衣服务系统的智能化升级研究主要集中在低成本硬件适配 和轻量化算法优化方向[1],但在实际场景中的稳定性仍有不足[2]。例如,某研究团队 开发的AI智能摄像头模组通过动态光线补偿技术提升了洗衣机面板指示灯识别精度, 但摄像头安装角度偏移时识别率显著下降[3]。另一项基于ResNet50模型的异常动作检 测系统被用于洗衣机舱门状态监测,实验室环境下准确率达89%,但在动态模糊图像 或复杂背景干扰下误判率较高[4]。改进的YoloV3算法结合轻量型网络可识别洗衣机内 的衣物堆积状态,但未与洗衣进度控制逻辑结合,难以直接落地应用[5]。

在系统架构设计方面,某大学宿舍洗衣系统采用RFID卡实现用户认证与计费, 但依赖传统计时器估算洗衣进度,无法动态响应实际运行状态,导致用户取衣时间误 差较大[6]。近期一项织物缺陷检测研究提出改进的Res-UNet网络,其多尺度特征融合 方法可迁移至洗衣机滚筒异常振动检测场景,但跨设备泛化能力尚未验证[7] 。

当前国内研究仍存在明显短板。例如,基于物联网的监控系统虽能上传设备状态 数据,但缺乏故障预测模块,导致运维响应滞后[8];信用积分驱动的预约模型虽引入 违约惩罚机制,但未解决用户临时取消导致的资源闲置问题[9]。此外,强化学习算法 在动态调度中虽能提升设备利用率,但需要大量历史数据训练模型,在中小规模场景 中难以快速生效[10]。这些研究表明,现有技术多聚焦单一环节优化,跨模块协同能力 不足,难以形成完整的服务闭环。

### <span id="page-8-2"></span>1.2.2 国外研究现状

国外研究更关注多模态数据融合与复杂调度算法设计,但硬件成本与计算复杂 度限制了实际应用。例如,结合图像与声音信号的家电状态检测方法通过分析洗衣机 面板指示灯和运行噪音频谱,在复杂环境中故障识别率达86%,但需配备高精度麦克 风阵列,硬件成本增加30%以上[11]。边缘计算框架被用于实时监控洗衣设备,将识别 算法部署在本地网关以减少云端延迟,但需定制专用硬件,老旧设备难以适配[12]。动 态优先级调度算法通过分析用户行为模式提升设备利用率18%,但其复杂的博弈论模 型计算耗时较长,无法满足实时响应需求[13] 。

在技术实用性方面,国外方案仍面临挑战。例如,基于电流传感器的洗衣机状态 监测方法虽能精准识别洗衣阶段,但需改造设备电路,部署成本过高[14];联邦学习框 架可提升多设备协同效率,但对网络带宽要求苛刻,在信号不稳定区域性能大幅下降 [15]。近期提出的时序预测模型通过分析历史故障数据实现预测性维护,但依赖大量标 注数据,中小规模场景中数据不足时效果有限[16]。

### <span id="page-9-0"></span>1.3 研究的主要内容

本研究旨在设计并实现一个基于图像识别的自助洗衣服务系统,以解决传统服 务中用户难以及时了解设备状态和运维效率不高的问题。核心目标是提升用户体验 和管理效率,通过构建一个智能监控管理平台,实现洗衣机状态的动态识别、故障预 警、进度通知及预约调度。系统采用模块化和轻量化算法,结合多模态数据融合,以 优化硬件兼容性、计算效率和部署成本,并增强复杂环境下的识别稳定性。

技术上,系统运用改进的深度学习算法进行洗衣机状态识别。为应对光线变化和 安装角度偏移对识别率的影响(国内研究常见问题),采用了图像预处理、文字处理 及图像增强等方法,提高了图像分析的稳定性。通过部署高精度PaddleOCR模型并结 合时序数据,能准确识别洗衣机维护、故障、运行中、正常等各种状态,并实时反馈 给用户和管理端。同时,系统利用边缘计算框架,在本地处理图像预处理和初步识别, 减少了云端传输延迟,保证了实时性。

系统架构上,各功能模块高效协作。动态算法优化了预约功能,减少了设备闲置; 通知模块通过消息推送确保信息有效送达;OCR图像识别及轮巡功能为管理者提供 了灵活选择,并增强了跨设备适应性。后端服务基于MySQL数据库,支持高并发和 数据存储,前端则采用响应式设计,适应不同终端。

<span id="page-9-1"></span>研究还探讨了实际应用中的技术挑战及对策。针对中小规模场景数据不足的情 况,通过多样性样本测试,保证了高识别准确率,并验证了系统在复杂光照、动态背 景下的稳定性和多模块协同的效率,为自助洗衣智能化提供了可行的技术方案。

### 2 可行性分析和需求分析

### <span id="page-10-0"></span>2.1 可行性分析

### <span id="page-10-1"></span>2.1.1 市场可行性分析

城市生活节奏加快,使得便捷高效的自助洗衣服务日益受到青睐,特别是在城市 居民、学生及白领中。国内自助洗衣市场也因此快速增长。

同时,用户对智能化洗衣体验的需求也在提高。传统自助洗衣店常有设备管理粗 放、预约难、支付不便、信息反馈慢等问题。而基于网络和移动端的智能系统,通过 实时监控设备、在线预约、便捷支付和消息推送等功能,能有效改善这些痛点,提升 用户体验和运营效率。

本系统集成的OCR图像识别和自动巡检功能,虽然主要面向管理,但通过自动 识别设备状态和检测异常,间接保证了服务的稳定与安全,从而增强用户信任。相比 传统服务,这种智能化综合方案更具竞争力,易于吸引追求高效透明服务的年轻用户 和注重管理效率的运营商,显示出良好的市场前景。因此,本项目符合市场需求和行 业趋势,具有广阔的发展空间。

#### <span id="page-10-2"></span>2.1.2 技术可行性分析

从技术层面看,本自助洗衣服务系统的构建方案具备良好的成熟度和可行性。项 目在整体设计上注重用户交互与后端数据服务的分离。前端界面采用了广泛应用的 Web技术(如HTML5, CSS3, JavaScript, jQuery),这些技术因其稳定性和通用性已成 为Web开发的主流。后端则选择了Node.js和Express.js框架,配合MySQL数据库,这 套技术栈在业界非常流行,拥有庞大的开发者社群和丰富的实践经验,使得技术风险 相对较低。

系统核心功能,包括用户管理、设备监控、预约、在线支付及基于WebSocket的 即时通讯,都有成熟的解决方案和现成的库(例如Socket.IO, jsonwebtoken, bcrypt等 等)可以借鉴。

至于独立部署的Python OCR服务,它使用OpenCV处理图像,以PaddleOCR为识 别核心,并通过Flask或FastAPI提供接口。这种将计算密集型任务分离的设计思路清 晰,技术选择也符合当前人工智能应用的主流趋势,具备很强的可操作性。尽管OCR 识别的准确性会受到实际光照、摄像头角度等环境因素的影响,需要不断优化,但其 核心技术本身是可靠的。总的来说,项目所采用的技术组合成熟,社区支持健全,架 构设计也比较合理,这使得技术上的挑战基本可控。

### <span id="page-11-0"></span>2.3 经济可行性分析

本项目的技术选型以经济性为重要考量。后端采用Node.js与Express.js,数据库 选用MySQL;前端则基于HTML、CSS、JavaScript及jQuery等成熟技术。这些开源方 案显著降低了初期技术采购成本,避免了商业软件的授权费用。特别是Node.js,其事 件驱动和非阻塞I/O特性,能够高效应对大量并发请求(如用户访问和设备状态刷新), 从而在现有硬件基础上提升系统吞吐量,间接节约了服务器运维开支。

前端技术的选择也兼顾了成本效益。采用HTML、CSS、JavaScript这些Web基础 技术,并辅以jQuery,针对功能明确的界面(如管理端和用户预约页),能实现快速 开发,规避了复杂框架可能带来的学习成本和性能负担,在开发效率与维护成本间找 到了平衡点。此外,诸如Socket.IO(实时通信)、bcrypt(密码处理)和jsonwebtoken (身份验证)等关键辅助库,也都是广泛应用的免费开源组件。

智能化OCR模块选用了Python语言,并结合OpenCV、PaddleOCR等开源库,通 过Flask或FastAPI对外提供服务。这种基于开源模型进行定制或优化的策略,相比商 业OCR服务,通常更具成本优势和灵活性。Python在人工智能领域的成熟生态及丰富 的库资源,也为后续功能升级和性能优化提供了经济可行的技术保障。

综上,本项目通过优选以开源为核心、拥有良好社区支持和成熟生态的技术组 合,不仅在项目启动阶段最大程度地减少了软件采购支出,还借助高效的开发框架、 活跃的开发者社区以及对持续性服务费用(如商业OCR)的规避,有效控制了从开 发、部署到长期运维的整体成本。

### <span id="page-11-1"></span>2.2 需求分析

本自助洗衣系统主要服务于追求便捷、智能洗衣体验的用户,例如学生、社区住 户和临时访客。系统整体由用户端和管理端构成。

用户端的核心功能旨在满足用户的直接需求,应包括:在线查找可用洗衣机、预 约使用时段、管理个人账户及支付费用、接收服务状态(如洗衣完成)的通知,以及 查看个人历史使用记录。

相应地,管理端则需要有力支撑系统的日常运营,其功能必须覆盖:对用户账户

和权限的集中管理、对所有洗衣设备的实时状态监控及远程参数配置、处理设备故障 报警并安排维护、管理用户信息。此外,管理端还将利用OCR一类的技术来辅助监控 设备运行状况,并及时识别潜在的异常情况。

### 3 系统分析

### <span id="page-13-1"></span><span id="page-13-0"></span>3.1 设计思想

该自助洗衣服务系统依托Web平台运作,并针对使用者和管理者分别构建了操作 界面。用户端界面专为普通消费者设计,集成了仪表盘功能,方便他们掌握使用概况、 查询设备实时状态、在线预约洗衣、进行账户充值、回顾使用记录以及提出反馈意见。 相对地,管理员端界面更侧重于对设备整体使用状况的宏观调控,包括设备状态的实 时监测、运行参数的灵活配置、日常维护保养、故障诊断与排除,以及对用户账户的 系统化管理。

此系统的一个显著特点是引入了OCR图像识别技术,用以自动或辅助识别设备 状态,并能检测异常使用行为。此外,系统还运用WebSocket技术来实现设备状态的 即时推送,结合多层级通知体系,确保用户能第一时间获取服务相关信息。在安全保 障上,系统实施了密码加密存储、JWT身份验证等一系列措施,以维护数据的完整性 与保密性。整体而言,该系统框架在确保功能全面的基础上,通过融入智能化服务, 显著提升了用户操作体验,为现代自助洗衣服务提供了坚实的信息化基础

### <span id="page-13-2"></span>3.2 功能模块需求

#### <span id="page-13-3"></span>3.2.1 用户端页面

该交互界面采用模块化架构设计,主要包含以下功能分区:

- (1)仪表盘:此模块为用户呈现一个系统使用情况的整体视图,集中展示关键 的个人数据统计,例如累计预约次数、当前可用洗衣设备数目以及已完成的洗衣任务 总数。同时,通过动态的洗衣活动趋势图,用户可以直观地了解自己的使用模式及频 率波动。
- (2)洗衣机:该模块赋予用户管理和检索可用洗衣设备的能力。它清晰列出所 有洗衣机的详细资料及其即时状态(如:空闲、运行中、维护期、故障),并设有刷 新机制以确保设备列表的实时性。用户可依据地理位置、设备型号或当前状态等多维 度标准进行筛选,亦可直接搜索特定洗衣机以快速锁定目标。在此界面,用户可直接 完成设备预约,并根据需求选择不同的洗衣模式(例如:标准洗、快速洗、节能洗、 深度清洁等),同时支持预定特定的日期与时间。
  - (3)我的预约:用户可通过此功能区集中管理其洗衣预约事务。该区域会展示

用户全部的预约记录,并实时同步更新预约的进展状态,包括待进行、执行中、已结 束及已撤销的预约。用户可以根据预约状态、日期、地点或洗衣机类型等条件对预约 记录进行筛选。此外,用户能够查阅预约的详细信息,涵盖预约时刻、所选洗衣机详 情、服务项目类别及相应费用等,并允许用户对预约进行操作,如取消尚未开始的预 约或查看进行中预约的实时动态。

- (4)我的钱包:此模块方便用户查阅个人账户余额,并可详细追溯每一笔交易 发生的时间、数额、性质及备注信息,从而清晰掌握资金动向。用户可在此模块内便 捷地为账户进行充值。系统还会提供完整的交易流水记录,囊括充值、洗衣消费以及 退款等各类交易。
- (5)使用报告:该模块为用户提供了数据洞察与统计分析的功能。用户可以选 择不同时间跨度(如近一周、近一月或近三月)来审视其使用数据,并可通过刷新按 钮快速获取最新统计。系统通过生成使用频率分布图及费用构成图表,帮助用户直观 理解个人的洗衣习惯和消费构成。同时,模块会突出显示核心统计指标,例如总洗衣 次数、累计消费总额以及平均单次洗衣成本。
- (6)反馈建议:用户可利用此模块向系统运营方提交反馈意见。模块支持多种 反馈类型,包括改进建议、服务投诉、故障报告等。用户可以输入反馈的标题并附上 详尽的文字描述。系统会保存用户的历史反馈记录,方便用户追踪反馈的处理状态与 进展。

### <span id="page-14-0"></span>3.2.2 管理员端页面

- (1)仪表盘:此模块作为管理端的核心信息枢纽,集中呈现洗衣系统整体运营 的关键指标,囊括了洗衣设备总数、平台注册用户量、当日新增预约单量以及当前故 障设备数量等核心统计数据。同时,借助直观的图表工具,动态展示设备的整体使用 效率和营收变化趋势,从而助力管理人员全面洞悉和评估系统的即时运营状况。
- (2)洗衣机管理:该模块为管理人员提供了贯穿洗衣设备整个生命周期的全面 管理能力。它支持对设备信息进行新增、修改与移除操作,能够实时追踪各设备的运 行工况,并允许设定预定维护日程。管理人员可以根据设备的实际状态(例如:正常 待机、运行中、维护保养期、故障停用)进行高效筛选与针对性管理,从而实现对每 一台洗衣设备的精细化运维。

- (3)OCR图像识别:本系统集成了基于百度飞桨OCR的先进图像识别技术。通 过智能解析洗衣机控制面板上显示的倒计时数字或特定故障代码,系统能够自动更 新对应设备的运行状态。管理人员可以直接上传设备面板的照片或通过拍照方式进 行识别,这一功能显著提升了设备状态变更处理的效率,并有效减轻了人工巡检的压 力与工作负荷。
- (4)OCR自动轮巡:此功能旨在实现对多台洗衣设备状态的自动化、周期性监 测。通过预设巡检计划与识别规则,系统可以自主生成待识别图像并调用OCR引擎 进行分析(注:此模块具备扩展潜力,可接入外部摄像头以实现基于真实场景图片的 实时轮巡识别)。该模块支持任务的循环执行,并能对识别结果进行统计汇总,从而 极大地提高了设备状态监控的自动化水平和整体效率。
- (5)用户管理:负责对所有用户的相关信息进行维护与控制。其核心功能包括 对用户账户的增删改查操作,以及对用户角色和对应权限的精细化配置。此外,该模 块还支持对用户账户的余额信息和激活状态进行管理。系统亦提供了用户搜索接口, 以支持高效的用户定位。整体而言,用户管理功能的设计目标在于确保用户数据的安 全性,并实现系统访问权限的合理化分配与管理。
- <span id="page-15-0"></span>(6)系统设置:该模块赋予管理员进行系统级参数调整的权限。主要配置项包 括洗衣服务的价格体系设定(例如,针对标准洗涤、快速洗涤、节能模式及深度清洁 等不同洗衣类型的价格进行个性化配置)以及通知推送机制的设定(例如,管理员可 以启用或禁用通过网页消息推送等方式发送通知)。这些配置选项方便管理员根据实 际运营需求灵活调整系统参数,以期持续优化用户的使用感受。

### 3.3 系统主要流程分析

本系统采用双核架构设计,基于角色权限划分构建了管理控制台与用户端交互 界面两大功能集群。管理员可以通过系统首页仪表盘模块查看数据统计概览和系统 状态监控;管理洗衣机设备,包括设备状态查看、故障维护处理和洗衣机参数设置; 进行用户管理,涵盖用户信息查看和账户状态管理;负责通知管理,包括接收预约通 知、充值通知和故障维护通知等;还可以使用OCR系统识别洗衣机状态、异常情况, 并可以进行自动检测如定时巡检和异常预警。

用户则可以使用洗衣机预约功能,包括浏览可用设备、选择洗衣模式、支付费用、

取消预约、接收通知;进行账户充值及查看记录;查看系统通知;提交系统反馈;以 及浏览使用报告,包括查看洗衣记录和消费统计等功能。

管理员用例图如3-1所示。用户用例图如下图3-2所示。

![](_page_16_Figure_2.jpeg)

图 3-1 管理员用例图

![](_page_17_Figure_0.jpeg)

图 3-2 用户用例图

### <span id="page-17-0"></span>3.4 系统功能模块图

系统分为以下几个模块,系统功能模块图如图3-3所示。

![](_page_18_Figure_0.jpeg)

图 3-3 系统功能模块图

### 4 系统设计

### <span id="page-19-1"></span><span id="page-19-0"></span>4.1 系统架构设计

本系统整体采用B/S架构实现,系统架构设计图如下图4-1所示。

本系统的大致流程为:用户通过浏览器访问管理员客户端(admin.html)、用户客 户端(customer.html)或系统首页(index.html),发起HTTP/HTTPS请求,请求由服务器 层接收并处理。而服务器层由三个核心模块组成:主服务(server.js)负责处理核心业务 逻辑,通知服务(notification\_api.js)处理系统消息推送,WebSocket服务实现实时通信。 当请求到达服务器后,系统调用相应的核心API接口(用户管理、设备管理、预约管 理、支付管理、通知系统、OCR图像识别)进行业务处理,根据需要通过MySQL协 议访问数据库获取相关数据。数据层包含多个数据模型,如users、washing\_machines、 bookings等,存储系统所需的各类信息。

本系统整合了基于OCR技术的状态识别和自动化巡检功能。此功能模块依赖一 个独立的Python OCR服务来实现对洗衣设备状态的精准识别及持续监控。在技术实 现层面,该服务运用了PaddleOCR与OpenCV等图像处理工具库,并通过HTTP协议承 载JSON格式数据与主应用程序进行通信。当服务器端完成对OCR识别请求的处理后, 由浏览器负责解析数据并动态生成可视化的页面内容,最终清晰地呈现给用户。

![](_page_19_Figure_5.jpeg)

图 4-1 系统架构设计

### <span id="page-20-0"></span>4.2 数据库设计

### <span id="page-20-1"></span>4.2.1 系统E-R模型图

为清晰呈现系统架构的功能实现机制与各组件间的交互关联,可采用实体关系 模型E-R图(E-R Diagram)进行可视化展示,本系统数据库设计的核心实体-关系图 (E-R图)展示如下:

(1)用户和管理员之间总体关系E-R图如下图4-2所示。

![](_page_20_Figure_4.jpeg)

图 4-2 用户和管理员之间总体关系 E-R 图

(2)洗衣机管理核心模块E-R图展示洗衣机与维护日志、状态历史的关系,如下 图4-3所示。

![](_page_21_Figure_0.jpeg)

图 4-3 洗衣机管理核心模块 E-R 图

(3)预约交易模块展示用户、洗衣机、洗衣模式、预订和交易之间的关系,其 E-R图如下图4-4所示。

![](_page_21_Figure_3.jpeg)

图 4-4 预约交易模块 E-R 图

(4)用户账户管理模块展示用户、钱包和交易的关系,其E-R图如下图4-5所示。

![](_page_22_Figure_1.jpeg)

图 4-5 用户账户管理模块 E-R 图

(5)用户端与管理员端通知模块展示用户与管理员端接收通知的逻辑关系,其 E-R图如下图4-6所示。

![](_page_22_Figure_4.jpeg)

图 4-6 用户端与管理员端模块 E-R 图

(6)OCR更新洗衣机状态逻辑E-R图展示OCR图像识别模块与OCR自动轮巡模 块更新洗衣机状态的逻辑关系,其E-R图如下图4-7所示。

![](_page_23_Figure_1.jpeg)

图 4-7 OCR 更新洗衣机状态逻辑 E-R 图

### <span id="page-23-0"></span>4.2.2 数据表

### (1)用户信息表users

在本系统的数据库中,users 数据表占据了核心地位,其主要职责是持久化存储 所有用户的基本信息与账户详情。该表所承载的关键功能具体体现在以下几个方面:

- 1. 存储用户认证信息(用户名和密码)。
- 2. 区分不同角色的用户(普通用户和管理员)。
- 3. 存储用户信息(邮箱、手机号、余额等)。

用户信息表如下表4-8所示。

表 4-8 用户信息表

| 列名       | 数据类型          | 长度     | 是否为空 | 注释       |
|----------|---------------|--------|------|----------|
| user_id  | int           | (Null) | NO   | 用户<br>ID |
| username | varchar<br>50 |        | NO   | 用户名      |
|          |               |        |      | 用户密      |
| password | varchar       | 255    | NO   | 码        |
| email    | varchar       | 100    |      | 用户邮      |
|          |               |        | NO   | 箱        |
| phone    |               | 20     |      | 电话号      |
|          | varchar       |        | YES  | 码        |

续表 4-8

| 列名         | 数据类型                                  | 长度     | 是否为空 | 注释  |
|------------|---------------------------------------|--------|------|-----|
|            |                                       |        |      | 用户角 |
| role       | enum('admin','customer')              | 8      | NO   | 色   |
|            |                                       |        |      | 账户余 |
| balance    | decimal(10,2)                         | (Null) | NO   | 额   |
|            | enum('active','inactive','suspended') | 9      | NO   | 用户状 |
| status     |                                       |        |      | 态   |
|            |                                       |        |      | 创建时 |
| created_at | timestamp                             | (Null) | YES  | 间   |
| updated_at |                                       |        |      | 最后更 |
|            | timestamp                             | (Null) | YES  | 新时间 |

### (2)用户预约记录表bookings

用户预约记录表用于存储用户的洗衣预约记录,是系统核心业务表之一。主要功 能包括:

- 1. 记录用户的洗衣预约信息,包括预约时间、洗衣机、洗衣模式等完整预约数 据。
  - 2. 关联用户、设备和支付信息。
  - 3. 通过与OCR系统集成,自动更新洗衣进度和完成状态 用户预约记录表如下表4-9所示。

表 4-9 用户预约记录表

| 列名         | 数据类型 | 长度     | 是否为<br>空 | 注释              |
|------------|------|--------|----------|-----------------|
| booking_id | int  | (Null) |          | 预约<br>号<br>ID   |
| user_id    | int  | (Null) | NO       | 预约用户            |
|            |      |        |          | 的<br>ID<br>预约的洗 |
| machine_id | int  | (Null) | NO       | 衣机<br>ID        |

续表 4-9

| 列名              | 数据类型                                   | 长度     | 是否为 | 注释        |
|-----------------|----------------------------------------|--------|-----|-----------|
|                 |                                        |        | 空   |           |
|                 |                                        |        |     | 预约的洗      |
| mode_id         | int                                    | (Null) | NO  | 衣模式<br>ID |
|                 |                                        |        |     | 用户预约      |
| booking_time    | datetime                               | (Null) | NO  | 的开始时      |
|                 |                                        |        |     | 间         |
|                 |                                        |        |     | 预估的洗      |
| end_time        | datetime                               | (Null) | NO  | 衣结束时      |
|                 |                                        |        |     | 间         |
|                 |                                        | (Null) | YES | 实际洗衣      |
| actual_end_time | datetime                               |        |     | 结束时间      |
|                 | enum('pending','confirmed',            |        |     | 预约状态      |
| status          | 'in_progress','completed','cancelled') | 11     | NO  |           |
| amount          | decimal(10,2)                          | 10,2   | NO  | 预约费用      |
|                 |                                        |        |     | 关联的支      |
| payment_id      | Int                                    | (Null) | YES | 付记录<br>ID |
|                 |                                        |        |     | 预约创建      |
| created_at      | timestamp                              | (Null) | NO  | 时间        |
|                 |                                        |        |     | 预约最后      |
| updated_at      | timestamp                              | (Null) | NO  | 更新时间      |
| cancel_reason   | varchar                                | 255    | YES | 取消原因      |
| notes           | text                                   | 65535  | YES | 预约备注      |

### (3)设备信息表washing\_machines

在系统的数据架构中,洗衣机设备信息表占据着举足轻重的地位,它集中储存并 管理着所有洗衣设备的详细档案信息。其核心职责与记录内容主要体现在以下几个 方面:

- 1. 记录洗衣机的基本信息(ID、名称、位置、类型)。
- 2. 跟踪洗衣机的实时状态(空闲、使用中、维护中、故障)。
- 3. 存储设备维护和故障信息。
- 4. 记录洗衣进度(剩余时间)。
- 5. 与OCR系统集成,通过状态识别更新洗衣机状态。 设备信息表如下表4-10所示。

表 4-10 设备信息表

| 列名                    | 数据类型                                            | 长度     | 是否<br>为空 | 注释                  |
|-----------------------|-------------------------------------------------|--------|----------|---------------------|
| machine_id            | int                                             | (Null) | NO       | 洗衣机<br>ID           |
| machine_name          | varchar                                         | 50     | NO       | 洗衣机名称               |
|                       |                                                 |        |          | 洗衣机所在位              |
| location              | varchar                                         | 100    | NO       | 置                   |
| machine_type          | enum('standard','large','eco')                  | 8      | NO       | 洗衣机类型               |
| status                | enum('active','busy',<br>'maintenance','fault') | 11     | NO       | 洗衣机状态               |
| last_maintenance_date | date                                            |        | YES      | 最近一次维护<br>日期        |
| created_at            | timestamp                                       | (Null) | YES      | 设备创建时间              |
| updated_at            | timestamp                                       | (Null) | YES      | 设备信息最后<br>更新时间      |
| remaining_time        | int                                             | (Null) | YES      | 剩余洗衣时间              |
| fault_code            | varchar                                         | 10     | YES      | 故障代码                |
| fault_description     | varchar                                         |        | YES      | 故障描述                |
| last_ocr_time         | Timestamp                                       | (Null) | YES      | 最后一次<br>OCR<br>识别时间 |

### (4)洗衣模式信息表washing\_modes

洗衣模式信息表用于存储洗衣机的各种洗衣模式信息。主要功能包括:

- 1. 记录系统支持的洗衣模式(如标准模式、快速模式、节能模式、深度清洁等)。
- 2. 存储每种模式的价格和持续时间。
- 3. 管理模式的可用状态,允许系统灵活地启用或停用某些模式。

洗衣模式信息表如下表4-11所示。

表 4-11 洗衣模式信息表

| 列名          | 数据类型                      | 长度     | 是否为空 | 注释         |
|-------------|---------------------------|--------|------|------------|
| mode_id     | int                       | (Null) | NO   | 洗衣模式<br>ID |
| mode_name   | varchar                   | 50     | NO   | 洗衣模式名称     |
| price       | decimal(5,2)              | (Null) | NO   | 模式价格       |
| duration    | int                       | (Null) | NO   | 模式洗衣时长     |
| description | text                      | 65535  | YES  | 模式详细描述     |
| status      | enum('active','inactive') | 8      | NO   | 模式状态       |
| created_at  | timestamp                 | (Null) | YES  | 模式创建时间     |
|             |                           |        |      | 模式最后更新     |
| updated_at  | timestamp                 | (Null) | YES  | 时间         |

### (5)用户钱包信息表wallets

用户钱包信息表用于管理用户的电子钱包,是系统中的支付管理核心。主要功能 包括:

- 1. 存储用户的账户余额信息。
- 2. 存储钱包创建时间。

用户钱包信息表如下表4-12所示。

表 4-12 用户钱包信息表

| 列名        | 数据类型          | 长度     | 是否为空 | 注释       |
|-----------|---------------|--------|------|----------|
| wallet_id | int           | (Null) | NO   | 钱包<br>ID |
|           |               | (Null) |      | 关联的用户    |
| user_id   | int           |        | NO   | ID       |
|           |               |        |      | 钱包当前余    |
| balance   | decimal(10,2) | (Null) | NO   | 额        |

续表 4-12

| 列名         | 数据类型      | 长度     | 是否为空 | 注释    |
|------------|-----------|--------|------|-------|
| created_at |           | (Null) |      | 钱包创建时 |
|            | timestamp |        | YES  | 间     |

### (6)交易流水表transactions

交易流水表用于记录系统中的所有交易流水,包括用户充值、洗衣服务支付、退 款等资金变动。主要功能包括:

- 1. 记录用户账户余额变动的所有交易,形成完整的资金流水记录。
- 2. 关联预约记录与支付记录,建立业务与资金的对应关系。
- 3. 追踪不同支付方式和交易状态,确保资金流转的准确性。
- 4. 记录交易的创建和完成时间。
- 5. 支持多种交易类型,包括充值、支付、退款、余额调整等。
- 6. 为财务报表和数据分析统计图表提供基础数据。

交易流水表如下图4-13所示。

表 4-13 交易流水表

| 字段名称             | 数据类型                                                                | 长度           | 是否为空 | 注释                |  |  |
|------------------|---------------------------------------------------------------------|--------------|------|-------------------|--|--|
| transaction_id   | int<br>(Null)                                                       |              | NO   | 交易记录<br>ID        |  |  |
| user_id          | int<br>(Null)<br>NO                                                 |              |      | 交易关联的<br>用户<br>ID |  |  |
| amount           | decimal(10,2)                                                       | (Null)<br>NO |      | 交易金额              |  |  |
| transaction_type | enum('recharge','payment',<br>10<br>'refund','adjustment','system') |              | NO   | 交易类型              |  |  |
| description      | varchar                                                             | 255          | YES  | 交易描述              |  |  |
| booking_id       | int<br>(Null)                                                       |              | YES  | 关联的预约<br>ID       |  |  |
| created_at       | Timestamp                                                           | (Null)       | YES  | 交易创建时<br>间        |  |  |

### (7)反馈建议表feedback

反馈建议表用于存储用户对洗衣服务、洗衣机设备、应用程序或其他方面的反馈 和评价。主要功能包括:

- 1. 记录用户提交的各类反馈内容,包括建议、问题、投诉和其他。
- 2. 关联特定的预约或洗衣机,便于针对性解决问题和改进服务。
- 3. 提供完整的反馈处理时间线,包括创建和更新时间。

反馈建议表如下表4-14所示。

表 4-14 反馈建议表

| 字段名称        | 数据类型                                                 | 长度     | 是否<br>为空 | 注释                |
|-------------|------------------------------------------------------|--------|----------|-------------------|
| feedback_id | int                                                  | (Null) | NO       | 反馈<br>ID          |
|             |                                                      |        |          | 提交反馈              |
| user_id     | int                                                  | (Null) | NO       | 的用户<br>ID         |
| type        | enum('suggestion','problem','complaint')             | 20     | NO       | 反馈类型              |
| title       | varchar                                              | 100    | NO       | 反馈标题              |
| content     | text                                                 | 65535  | NO       | 反馈内容              |
| response    | text                                                 | 65535  | YES      | 管理员对<br>反馈的回<br>复 |
| status      | enum('pending','processing',<br>'resolved','closed') |        | NO       | 反馈处理<br>状态        |
| created_at  | timestamp                                            | (Null) | NO       | 反馈创建<br>时间        |
| updated_at  | timestamp                                            | (Null) | NO       | 反馈最后<br>更新时间      |

### (8)通知信息表notifications

通知信息表用于用于存储系统发送给用户的各类通知信息。主要功能包括:

1. 存储不同类型的系统通知,包括预约通知、充值通知、故障维护通知等。

- 2. 跟踪通知的已读状态,便于消息管理。
- 3. 关联特定用户或用户群体(用户、管理员),实现通知精准推送。
- 4. 记录通知创建时间。
- 5. 关联相关实体,如预约、充值等记录。

通知信息表如下表4-15所示。

表 4-15 通知信息表

| 字段名称              | 数据类型      | 长度     | 是否为空 | 注释         |
|-------------------|-----------|--------|------|------------|
| notification_id   | int       | (Null) | NO   | 通知<br>ID   |
|                   |           |        |      | 接收通知的用     |
| user_id           | int       | (Null) | NO   | 户<br>ID    |
|                   |           |        |      | 通知涉及的另     |
| related_user_id   | int       | (Null) | NO   | 一用户<br>ID  |
| title             | varchar   | 100    | NO   | 通知标题       |
| content           | text      | 65535  | NO   | 通知详细内容     |
| notification_type | varchar   | 50     | NO   | 通知类型       |
| target_audience   | varchar   | 50     | NO   | 目标受众       |
| related_entity_id | int       | (Null) | YES  | 关联实体<br>ID |
| is_read           | tinyint   | 1      | NO   | 是否已读       |
| created_at        | Timestamp | (Null) | NO   | 通知创建时间     |

### <span id="page-30-0"></span>4.3 系统功能设计

### <span id="page-30-1"></span>4.3.1 设备管理设计

为了对洗衣设备的各项参数进行有效管理,操作人员需先通过身份验证登录系 统。登录成功后,一个展示所有设备概览的列表界面便会呈现。该界面通过 与 /api/machines 服务端点通讯来获取完整的设备清单,此端点负责从数据库中提取 并返回所有洗衣机的当前数据。

操作人员可以从中选择目标设备以调整其参数。点击"编辑"操作后,系统将触 发 editMachine(machineId) 方法。该方法会进一步请求 /api/machines/:id 路径,用以 获取选定设备的具体信息,这包括了设备的型号、部署位置、归属类型以及实时运行

### 工况等核心数据。

当操作人员提交修改后的参数时,管理界面会构建一个PUT请求发送 至 /api/machines/:id。服务器在接收到此请求后,首要任务是进行参数有效性校验,例 如,确保状态值落在预定义的允许集合之内(诸如 'active', 'busy', 'maintenance', 'fault')。 校验无误后,系统会调用 executeQuery 方法,该方法将生成相应的SQL指令来更新 数据库中存储的洗衣机参数。

数据库层面的参数更新一旦完成,服务器还会借助 /api/machines/:id/status 接口 来刷新设备的对外状态。若存在需要直接下发给洗衣机的参数变更指令,系统将启 用 notifyMachineStatusUpdate 方法,利用WebSocket连接向洗衣机推送实时调整通知。

最终,服务器会将整个更新操作的结果回传给管理界面。界面则通 过 showNotification 函数,向操作人员弹出"洗衣机信息已成功更新"的提示信息,至 此,整个参数调整流程宣告完毕。此外,针对潜在的故障情况,系统设计有故障代码 记录机制,并会调用 OCRUpdateMachine 接口以实施持续的状态监控,从而确保参 数调整过程的可靠性与系统的稳定运行。

管理员设备管理时序图如图4-16所示。

图 4-16 管理员设备管理时序图

### <span id="page-32-0"></span>4.3.2 用户预约设计

用户登录并进入预约界面时,系统会通过 /api/machines 接口获取可用洗衣机。 该接口调用 getMachinesStatus 函数,从数据库筛选出状态为 active 的设备,并在客 户端通过 renderAvailableMachines 函数展示。

用户选择设备和时间后,点击确认会触发对 /api/bookings/new 接口的调用。后 端服务通过 checkMachineAvailability 函数校验设备在选定时段的可用性。若可用, 则调用 createBooking 函数,在数据库中通过INSERT INTO bookings请求插入新的预 约记录。

订单创建后,客户端展示支付界面。用户付款后,系统请 求 /api/payments/process 接口处理支付。支付成功后,updateBookingStatus 函数将预 约状态更新为 confirmed。最后,客户端显示"预约成功",用户可在"我的预约"中查 看详情。

用户预约洗衣服务时序图如图4-17所示。

图 4-17 用户预约洗衣服务时序图

### <span id="page-33-0"></span>4.3.3 用户充值设计

用户进入充值页面时,系统通过 /api/wallet/:userId 接口请求账户信息。服务器查 询数据库后返回数据,前端据此展示用户余额与交易历史。

用户输入金额并选择支付方式确认后,前端调用 /api/wallet/recharge 接口,将金 额与用户ID传至服务器。服务器随即请求支付系统处理。支付成功后,服务器更新用 户数据库中的余额,并记录此次充值行为。

随后,服务器通知服务生成并存储一条充值成功信息。最后,前端显示"充值成 功"的提示,同时通知服务通过WebSocket向用户所有已登录设备推送实时成功通知, 完成充值。

用户充值时序图如图4-18所示。

![](_page_33_Figure_5.jpeg)

图 4-18 用户充值时序图

### <span id="page-34-0"></span>4.3.4 通知系统设计

系统事件触发通知功能时,服务器调用 /api/user/notifications 接口请求通知服务。 该服务将通知记录存入数据库,并根据SQL查询结果设定通知的接收对象(用户或管 理员)。

格式化后的通知内容,会通过WebSocket实时推送给目标用户。具体而言,通知 服务利用 io.to(socketId).emit 方法,通过 activeConnections 集合定位用户连接并发送; 管理员通知则通过 activeConnections.admin.forEach 推送给所有在线的管理员。

推送完毕后,通知服务会更新数据库中的通知状态。用户可以通 过 /api/user/notifications/:userId 接口查看个人通知,并通 过 /api/user/notifications/:userId/:id/read 接口将其标记为已读。系统支持系统(system)、 提醒(reminder)和维护(maintenance)三种类型的通知,并依据用户角色进行差异 化推送。

系统通知时序图如图4-19所示。

![](_page_34_Figure_5.jpeg)

图 4-19 系统通知时序图

### <span id="page-35-0"></span>4.3.5 管理员端与用户端信息交互设计

本系统构建了用户与管理员间的完整交互闭环,覆盖从登录、预约到设备维护的 全过程。用户通过 /api/login 接口完成身份验证后,可调用 /api/machines 获取活跃设 备列表,此列表由服务器通过SQL查询生成。用户预约时,前端请求 /api/bookings, 后端在校验用户余额后,通过SQL创建预约,并经由WebSocket发送确认通知。

管理员则通过特定界面登录,利用 /api/machines 接口掌握所有设备(包括其状 态与预约详情)的信息。管理员可使用 /api/machines/:id/status 接口调整设备状态, 系统相应执行SQL更新数据库。当设备发生故障时,notifyMachineStatusUpdate 函数 会自动触发,向管理员推送紧急通知。管理员随后可将设备设为维护状态。维修完成 后,管理员更新设备状态为可用,系统则会通知先前受影响的用户可以重新预约。

所有操作均被数据库详细记录,管理员可查阅相关数据表追溯设备历史状态,保 障系统高效运作。这套流程旨在提升用户预约的便捷性和管理员的管理效率,从而优 化整体服务体验。

管理员端与用户端信息交互时序图如图4-20所示。

图 4-20 管理员端与用户端信息交互时序图

### <span id="page-35-1"></span>4.4 OCR图像识别与自动轮巡功能设计

### <span id="page-36-0"></span>4.4.1 OCR 图像识别功能设计

本系统采纳了前后端分离的架构,主要整合了光学字符识别(OCR)技术与状态 自动轮巡机制。在工作流程中,系统首先通过 /api/ocr/process 接口捕获洗衣机操作 面板的图像。为了提高后续识别的准确率,捕获到的图像会利用OpenCV进行一系列 预处理,例如执行灰度化、应用自适应阈值进行二值化处理,并进行边缘检测等操作 以改善图像质量。

随后,系统通过 preprocess\_image 函数对图像特征进行分析,用以辨识洗衣机显 示屏上表示剩余时间的数字或指示故障的特定代码。经过预处理的图像数据,将交由 PaddleOCR 引擎完成最终的字符识别任务。识别结果不仅会通 过 displayOCRResult 函数在前端用户界面上清晰展示,同时也会触 发 updateMachineStatus 函数,从而实时更新后台系统中该洗衣机的状态数据。

### <span id="page-36-1"></span>4.4.2 OCR 自动轮巡功能设计

该系统的自动轮巡组件负责对多台洗衣设备执行周期性的批量状态检查。操作 人员在用户界面选定需监控的设备后,系统会通过 loadAllMachines 函数加载相应的 洗衣机清单,并利用 preparePatrolQueue 函数构建巡检任务队列。在轮巡执行阶段, 系统会针对队列中的每一台洗衣机,通过调用 generateTestImage 函数生成模拟图像 或直接从物理摄像头捕获实时画面,随后启动OCR服务并对返回结果进行细致处理。

识别出的信息将由 processOCRResult 函数进行解析,该函数的核心任务是判别 洗衣机的当前运行状态——是处于正常的倒计时阶段、已完成洗涤(如显示特定代码 FC5),抑或是出现了故障。基于此判断,系统会通过 /api/machines/update-from-ocr 接 口,将最新的设备状态同步至数据库。为确保服务的连续性,系统内置了多层级的容 错设计:当主OCR服务节点暂时无法响应时,系统能够自动切换至 /api/ocr-proxy 所 指定的备用服务节点,从而保障监控任务的不间断运行。

此轮巡模块支持对大批量设备进行高效管理,允许管理员为每台设备设定独立 的巡检频率及单次巡检的图像采集数量。系统还通过 activeConnections 机制来管理 与客户端的WebSocket连接,确保任何状态的变动都能即时推送给管理人员。所有的 识别详情及状态更新操作均会被系统详细记录,管理人员可以通过查阅日志来追溯 历史记录,这些记录包含了轮巡的统计数据以及任何侦测到的异常事件。

综上所述,通过这一套设计精密的OCR识别与自动轮巡相结合的模块,本系统 得以实现对洗衣机群组状态的全面自动化监控。这种机制显著减少了人工巡检的需 要,能够更及时地发现并响应设备故障,从而极大地提升了管理效能和最终用户的满 意度。

用户端和管理员端与OCR模块交互时序图如图4-21所示。

![](_page_37_Figure_2.jpeg)

图 4-21 用户端和管理员端与 OCR 模块交互时序图

### 5 系统实现

### <span id="page-38-1"></span><span id="page-38-0"></span>5.1 OCR 图像识别与自动轮巡模块实现

#### <span id="page-38-2"></span>5.1.1 OCR图像识别模块实现

(1)该系统中集成的OCR模块的核心职责在于精确辨识洗衣机操作面板上所显 示的各类信息,特别是剩余工作时间的倒计时数字以及可能出现的故障指示代码。此 模块的技术选型以PaddleOCR作为主要的识别引擎,并辅以OpenCV库进行图像的预 处理操作,旨在优化输入图像的质量以提升识别精度。模块间的通信与服务提供基于 RESTful API架构。在用户交互层面,前端界面利用异步JavaScript技术与后端的Python 服务进行数据交换。该OCR识别模块在用户界面的具体展现形式,如图5-1所示。OCR 识别模块使用模型代码如图5-2所示。

![](_page_38_Figure_6.jpeg)

![](_page_38_Figure_7.jpeg)

图5-1 OCR识别模块界面效果截图

图5-2 OCR识别模块使用模型代码截图

(2)图像上传和预处理功能通过前端JavaScript实现,系统支持多种图像输入方 式,并使用Canvas API实现区域选择功能提高识别精度。具体实现代码如5-3所示。

图5-3 图像上传和预处理功能关键代码部分截图

(3)为了显著提升OCR识别的准确度,系统集成了图像增强功能,其核心实现 依赖于OpenCV库提供的多样化图像处理算法。在后端处理流程中,通过Python语言 实现了图像内容分析与自适应调整机制。此机制特别针对在不同光照环境下洗衣机 操作面板成像的差异性进行了优化处理。后端图像预处理部分关键代码如下图5-4所 示。

图5-4 后端图像预处理部分关键代码截图

(4)作为模块的核心构成,OCR的处理流程建立在前后端分离的设计模式之上。 前端应用程序通过标准的RESTful API接口与后端的OCR服务进行通信和任务调度, 而后端则依靠近年来广泛应用的PaddleOCR引擎来执行实际的字符识别任务。为了优 化输入图像的质量从而提升识别的精确度,系统构建了一条基于Numpy和OpenCV的 图像增强处理管道,集成了一系列关键的图像处理环节,包括有效的噪声滤除、对比 度的显著增强以及图像的二值化转换等步骤。OCR识别处理流程部分关键代码截图 如下图5-5所示。

图5-5 OCR识别处理流程部分关键代码截图

(5)系统根据OCR识别结果自动更新数据库中的洗衣机状态。状态转换由状态 机模型管理,该模型将OCR输出映射为业务状态。实时状态变更通过WebSocket推送, 确保前端界面即时反映最新情况。

OCR图像识别后更新洗衣机状态关键代码截图如下图5-6所示。

图5-6 洗衣机状态更新部分关键代码截图

(6)OCR结果展示运用响应式设计,借助CSS Grid和Flexbox实现界面自适应。 系统对不同识别结果(如倒计时、故障代码)采用差异化呈现,并通过颜色编码强化 视觉区分。故障代码以红色高亮显示,正常倒计时则用绿色标示,从而直观传递设备 状态。

### <span id="page-42-0"></span>5.1.2 OCR自动轮巡模块实现

(1)OCR自动轮巡模块是系统的高级功能,采用事件驱动异步处理架构,实现 了多设备并行监控。该模块基于Promise.all和异步队列技术,能够同时处理多台洗衣 机的状态识别,并通过有限状态机(FSM)管理轮巡过程的状态转换,保证了系统的可 靠性和稳定性。OCR自动轮巡模块实现步骤如图5-7、图5-8、图5-9所示

![](_page_42_Picture_2.jpeg)

图5-7 OCR自动轮巡实现步骤1-设备选择

![](_page_42_Picture_4.jpeg)

图5-8 OCR自动轮巡实现步骤2-数据配置

![](_page_43_Picture_0.jpeg)

图5-9 OCR自动轮巡实现步骤3-执行轮巡

(2)轮巡模块在初始化阶段集成了服务可用性探测与平稳降级策略。系统借 助 AbortController 及 Promise.race 机制来管理请求超时,并能自动在主、备OCR服 务间切换,保障了在波动环境下的稳定运行。轮巡模块初始化部分关键代码如下图5- 10所示。

图5-10 轮巡模块初始化部分关键代码

(3)此模块采用数组结构构建基础的任务队列以管理轮巡作业。为模拟洗衣机 在不同工作阶段的状态,系统运用概率分布算法生成相应的测试数据(后期此模块也 可拓展为采用真实摄像数据轮巡)。此实现允许动态调整关键轮巡参数,如图像采集 量、处理时间间隙及循环遍数,从而提供了高度的配置灵活性。轮巡队列准备与执行 部分关键代码如下图5-11所示。

图 5-11 轮巡队列准备与执行部分关键代码

(4)鉴于开发阶段外部摄像头硬件的直接可用性受限,系统在初期优先集成了 测试图像生成能力。此功能融合了随机化模式与确定性测试场景,利用HTML5 Canvas技术动态构建模拟的洗衣机操作面板图像。为确保测试数据的多样性与覆盖 度,本模块依据预设的概率分布模型生成涵盖正常倒计时、任务完成及故障等多种状 态的测试图像。图像生成部分关键代码如下图5-12所示。

图 5-12 图像生成部分关键代码

(5)OCR结果的处理采用管线化作业,原始识别数据经由系列转换函数处理。 系统运用正则表达式完成结果的格式化与验证,并依据洗衣机显示屏类型的差异,采 取针对性的解析策略。实验数据显示,此系统对标准数字显示屏的识别准确率逾95%, 对复杂图形界面的准确率也能达到约90%。OCR结果处理部分关键代码截图如下图5- 13所示。

#### 图 5-13 OCR 结果处理部分关键代码截图

(6)为确保洗衣机状态更新的准确性与数据一致性,本系统运用了事务化管理 方法。在每次状态迁移时,均会执行严格的有效性校验,以确保所有操作遵循既定的 逻辑规范。对于故障状态,系统会自动通过WebSocket向管理员推送紧急通知。洗衣 机状态更新部分关键代码截图如下图5-14所示。

图 5-14 洗衣机状态更新部分关键代码截图

(7)在OCR自动轮巡模块的实际部署中,系统利用Socket.IO技术以支持状态信 息的即时推送,同时借助Redis完成了分布式环境下的状态同步,从而确保了各管理 员终端所见状态的统一性。为保障操作的安全性,系统引入了基于JWT的身份认证机 制,严格限制仅授权管理员可启用与控制轮巡功能。该自动化轮巡机制的应用,使得 设备故障的平均发现时间由原先人工巡检所需的30分钟显著缩短至5分钟以内,极大 地提升了故障响应的效率。

### <span id="page-47-0"></span>5.2 管理端模块实现

#### <span id="page-47-1"></span>5.2.1 登录

在系统的登录界面,用户需提供正确的用户名和密码组合。点击登录后,后端

API将执行身份验证程序。验证无误的情况下,系统将自动重定向至主应用程序界面, 授予管理员访问权限。系统使用了JWT(JSON Web Token)认证机制,使得登录验证 过程更为流畅与安全。登录界面如下图5-15所示

![](_page_48_Picture_1.jpeg)

图 5-15 登录界面

### <span id="page-48-0"></span>5.2.2 管理员端仪表盘实现

管理员在成功认证并登录系统后,将首先进入系统概览界面,即仪表盘。此仪表 盘以可视化方式呈现了系统运行的核心指标与统计信息,具体涵盖了诸如洗衣机总 数、注册用户数、当日预约数及当前故障设备数等关键数据,并辅以设备使用频率和 营收状况的统计图表,以便管理员直观掌握系统全局状态。仪表盘界面如下图5-16所 示。

![](_page_49_Figure_0.jpeg)

图 5-16 仪表盘界面

而在仪表盘中,其核心功能是数据可视化,主要通过Chart.js库实现。使用情况统 计图表显示近七天洗衣机使用趋势,部分关键代码实现如图5-17所示。

图 5-17 仪表盘界面数据可视化图表实现部分关键代码

系统通过fetch API与后端服务进行通信以获取所需数据。后端运用SQL聚合函数, 对最近七日的设备使用频率及营收数据进行统计分析。具体而言,数据分别通过 /api/dashboard/usage和/api/dashboard/income这两个接口获取,随后由前端负责进行格 式化处理与可视化呈现。在数据处理层面,后端借助MySQL数据库的GROUP BY子 句及时间函数对聚合数据进行高效运算,这充分体现了系统在数据处理方面的稳健 性能。

### <span id="page-50-0"></span>5.2.3 洗衣机管理模块实现

(1)通过导航栏中的"洗衣机管理"选项,管理员可访问设备管理界面,该界面 集中展示了所有洗衣机设备的运行状态及相关详细信息。为便于快速定位特定设备, 系统支持管理员依据设备状态(例如:正常运行、使用中、维护中或故障)对列表进 行筛选。

此模块采用了动态加载策略,利用AJAX技术从服务器异步获取洗衣机数据,并 通过DOM操作实时构建设备列表,此举有效提升了页面的加载速度与用户的交互体 验。此外,界面设有刷新功能,允许管理员即时获取最新的设备状态数据。关于用户 管理界面的设计,详见图5-18。

![](_page_51_Picture_1.jpeg)

图 5-18 洗衣机管理界面

(2)管理员具备对洗衣机设备执行添加、编辑和删除的权限,并能处理设备故 障与维护。系统通过模态框提供了直观的操作界面,允许管理员设定设备的名称、位 置、类型及状态等参数。洗衣机的新增和编辑界面如下图5-19、5-20所示。

![](_page_51_Picture_4.jpeg)

图 5-19 添加洗衣机界面

![](_page_52_Picture_0.jpeg)

图 5-20 编辑洗衣机界面

### <span id="page-52-0"></span>5.2.4 OCR图像识别模块实现

(1)本系统的OCR图像识别功能作为本系统的特色功能之一,旨在自动解析洗 衣机显示面板的文本信息,例如剩余时间或错误代码,用以实现设备状态的自动化监 控。

此模块集成了PaddleOCR引擎,能够精确识别显示屏上的数字与字符。系统支持 三种图像获取途径:本地上传、即时拍摄及生成测试样本。管理员可依据识别结果手 动更新设备状态。

OCR服务的后端采用Python的OpenCV及PaddleOCR库构建,其处理流程涵盖图 像预处理、效果增强、文字检测与识别等步骤。系统通过RESTful API与前端通信, 确保了服务的可扩展性与效率。值得一提的是,图像预处理阶段应用了自适应阈值及 多种滤波算法,显著提升了识别的准确度。

OCR图像识别模块界面如图5-21所示。

![](_page_53_Figure_0.jpeg)

图 5-21 OCR 图像识别模块界面

此模块中还贴心的添加了操作说明板块,通过现代、美观、清新、醒目的界面与 分类,使用户可以更快速了解并掌握该模块的功能,大大提高了接受度。

### <span id="page-54-0"></span>5.2.5 OCR自动轮巡模块实现

OCR自动轮巡功能拓展了OCR识别能力,能自动化批量监控多台洗衣机状态。 此功能极大提升管理效率,管理员无需再逐一手动操作设备。

OCR自动轮巡流程包括:设备选择、测试数据生成与轮巡识别。管理员在选定目 标设备并设定参数后即可启动。系统随后将按序处理各设备图像,识别状态并自动更 新至数据库。

此模块核心为自动化与批处理,借助轮巡队列及定时器控制高效监控多台设备。 系统中还提供操作日志和统计信息,方便管理员了解执行情况与结果分析。

技术上,该模块采用JavaScript的Promise和async/await处理复杂异步操作,确保 轮巡任务有序执行。OCR自动轮巡模块各界面如本章5.1.2小节中的图5-7、图5-8、图 5-9所示。

### <span id="page-54-1"></span>5.2.6 用户管理模块实现

用户管理模块用于系统用户的维护,涵盖添加、编辑、查询及禁用等操作。管理 员借此模块管理用户账户与权限。

用户列表清晰展示了用户ID、用户名、邮箱、角色、账户余额及状态等关键信息。 管理员可利用搜索功能,基于用户名、邮箱或ID快速定位特定用户。

管理员可创建新用户账户,区分为管理员与普通客户两种角色类型。编辑功能则 用于修改用户基本信息和账户状态;高级设置亦支持用户ID的修改(此操作需审慎 进行)。账户余额管理则允许管理员调整用户余额,以应对特定场景下的账户调整需 求。

整个用户管理模块采用响应式设计,以适应不同尺寸的显示终端,并确保了用户 数据的一致性与完整性。

用户管理界面如图5-22所示。编辑和添加用户界面分别如图5-23、图5-24所示。

![](_page_55_Picture_0.jpeg)

图 5-22 用户管理界面

![](_page_55_Picture_2.jpeg)

图 5-23 编辑用户界面

![](_page_56_Picture_0.jpeg)

图 5-24 添加用户界面

#### <span id="page-56-0"></span>5.2.7 系统设置模块实现

系统设置模块用于全局配置参数的管理,管理员借此调整运行参数和业务规则。 此模块主要包含洗衣价格设定与通知配置。前者允许管理员调整各洗衣模式(标 准、快速、节能、深度清洁)的定价。后者则用于配置通知渠道,如邮件、短信及网 页推送。系统设置界面如图5-25所示。

![](_page_56_Picture_4.jpeg)

图 5-25 系统设置界面

#### <span id="page-56-1"></span>5.2.8 全局搜索功能实现

全局搜索作为管理员端的重要辅助工具,置于系统顶部导航栏,支持跨模块的快

速信息检索。此功能使管理员无需切换模块,即可迅速查找并定位系统内的洗衣机、 用户及预约记录。

搜索框设计简洁明了,结果弹窗采用卡片式布局。各类别下的结果条目均显示关 键信息并附带快捷操作按钮,管理员可直接从搜索结果点击跳转并执行常用操作。

全局搜索模块界面如图5-26所示。

![](_page_57_Picture_3.jpeg)

图 5-26 全局搜索模块界面

全局搜索运用了实时搜索技术,提升了系统性能和用户体验。其核心处理采用分 词与模糊匹配算法,能较好地理解管理员的搜索意图。

数据获取依赖高效的后端索引机制。系统为洗衣机、用户及预约数据构建了优化 索引,支持多字段联合检索。搜索请求通过AJAX异步提交,保障了主界面操作的流 畅性。

后端搜索API运用复合查询技术,可同时在多个数据表中查找匹配项。该算法不 仅支持精确匹配,也实现了基于相似度的模糊查询,便于管理员通过近似或部分关键 词定位信息。

全局搜索模块部分关键代码如图5-27所示。

图 5-27 全局搜索模块部分关键代码

#### <span id="page-58-0"></span>5.2.9 系统集成与通知机制实现

管理员端的各个模块通过统一数据模型与事件系统紧密相连,协同运作。当发生 如设备故障或预约完成等重要事件时,系统会通过内部通知机制即时向管理员推送 信息。

通知系统采用WebSocket技术实现实时推送,确保管理员能迅速获取重要提醒。 系统亦设有通知中心,供管理员查阅和管理历史通知。通知内容的格式化与分类由专 门服务模块处理,以保障通知的及时与准确。

通知模块界面如图5-28所示。通知模块部分关键代码则如图5-29所示。

![](_page_59_Picture_0.jpeg)

图 5-28 系统通知模块界面

图 5-29 系统通知模块实现部分关键代码

### <span id="page-60-0"></span>5.3 用户端模块实现

### <span id="page-60-1"></span>5.3.1 登录实现

在本系统的登录页面中,输入正确的用户名和密码后,点击登录按钮,系统会通 过后端API校验用户身份,校验通过后跳转到系统主界面。

用户端的登录逻辑同管理员端相同,此处不再赘述。

#### <span id="page-60-2"></span>5.3.2 仪表盘模块设计与实现

(1)仪表盘界面:用户端仪表盘作为首页面,向用户呈现核心数据的可视化概 览,涵盖了总预约次数、可用设备数及已完成洗衣次数等统计。此外,洗衣活动趋势 图清晰呈现了用户近期的使用情况。

仪表盘界面如图5-30所示。

![](_page_60_Figure_7.jpeg)

图 5-30 仪表盘界面截图

(2)仪表盘图表实现:在仪表盘中的洗衣活动趋势图表采用了Chart.js库实现, 通过调用后端API获取用户数据,并进行数据可视化处理。相关实现代码如下图5-31 所示。

图 5-31 仪表盘洗衣活动趋势图表实现部分关键代码

(3)仪表盘图表交互功能:系统实现了丰富的图表交互功能,使用户可以通过 鼠标悬停查看详细数据,提升数据可视化体验。交互功能实现代码如下图5-32所示。

图 5-32 仪表盘图表交互功能实现部分关键代码

### <span id="page-62-0"></span>5.3.3 洗衣机模块实现

(1)洗衣机列表:此模块方便用户查看并筛选可用洗衣机。通过设置位置、类 型和状态等条件,用户可快速定位目标设备。每个洗衣机卡片则列出其基本信息、当 前状态与可用情况。

洗衣机列表界面如图5-33所示。

![](_page_62_Picture_3.jpeg)

图 5-33 洗衣机列表界面

(2)洗衣机筛选功能:系统采用了响应式的三级筛选机制,用户可以通过位置、 类型和状态对洗衣机进行精准筛选。关键实现代码如下图5-34所示。

图 5-34 洗衣机筛选功能实现部分关键代码

### <span id="page-63-0"></span>5.3.4 我的预约模块实现

(1)预约列表:该模块为用户提供了预约记录的查看与管理功能。用户可以通 过状态、日期、位置和类型对预约记录进行筛选,方便快速查找特定预约。每条预约 记录显示了状态、时间、机器位置等关键信息。我的预约列表界面如图5-35所示。

![](_page_63_Picture_2.jpeg)

图 5-35 我的预约列表界面

(2)预约管理功能:系统允许用户根据预约状态执行不同的操作,包括查看详 情、取消预约、开始使用和完成洗衣。系统会根据预约状态自动更新相关操作按钮, 提高用户操作便捷性。

### <span id="page-63-1"></span>5.3.5 我的钱包模块实现

(1)钱包界面:该模块为用户提供了钱包余额查看和充值功能。界面左侧显示 当前账户余额,右侧展示近期交易记录与类型。用户可以通过充值按钮进行账户充值 操作。我的钱包界面如图5-36所示。

![](_page_63_Picture_7.jpeg)

图 5-36 我的钱包界面

(2)交易记录功能:系统将用户的交易按类型(如充值、支付、退款)分类展 示,并清晰列出交易时间与金额。对于洗衣服务相关的消费,还会附带相应的洗衣机 信息及所选模式。交易记录加载实现部分关键代码如图5-37所示。

图 5-37 交易记录加载实现部分关键代码

#### <span id="page-64-0"></span>5.3.6 使用报告模块实现

(1)使用报告界面:使用报告界面:此模块为用户提供了个人洗衣数据的可视 化分析。通过使用频率和费用统计图表,用户能直观把握自身的洗衣习惯与消费趋 势。界面底部还汇总了总洗衣次数、总消费金额及平均单次费用等数据。

使用报告界面如图5-38所示。

![](_page_65_Figure_0.jpeg)

图 5-38 使用报告界面

(2)图表实现:系统使用Chart.js库实现了两个核心图表,分别展示使用频率和 费用统计。使用频率图表实现部分关键代码如下图5-39所示。费用统计图表实现部分 关键代码如图5-40所示。

图 5-39 使用频率图表实现部分关键代码

图 5-40 费用统计图表实现部分关键代码

(3)使用报告图表交互功能:系统在使用报告图表中实现了强大的鼠标交互功 能,使用户可以通过鼠标交互获取更详细的数据信息。交互功能实现部分关键代码如 下图5-41所示。

图 5-41 图表交互功能实现部分关键代码

### <span id="page-67-0"></span>5.3.7 反馈建议模块实现

(1)反馈表单:该模块为用户提供了向系统管理员提交反馈和建议的功能。用 户可以选择反馈类型、输入标题和详细内容,提交后系统会将反馈存储到数据库并通 知管理员处理。反馈建议界面如图5-42所示。

![](_page_68_Picture_0.jpeg)

图 5-42 反馈建议界面

(2)反馈历史:系统在同一页面的下方展示了用户历史反馈记录,包括反馈内 容、时间和类型等。用户可以通过此功能查看自己提交的所有反馈。反馈建议功能实 现部分关键代码如图5-43所示。

图 5-43 反馈建议功能实现部分关键代码

### 6 系统测试

### <span id="page-69-1"></span><span id="page-69-0"></span>6.1 测试的目的

在软件开发中,系统测试是不可或缺的关键一环。它不仅用于检验系统功能是否 契合用户需求,也旨在评估产品在实际应用环境下的稳定表现。在项目执行期间,测 试有助于及早发现潜在的技术风险和逻辑缺陷。通过对这些问题的及时修正,能够有 效提升最终软件产品的质量。

### <span id="page-69-2"></span>6.2 系统功能测试

本系统主要包含用户管理模块、设备管理模块、预约管理模块、支付管理模块、 通知系统模块、OCR图像识别及监控模块,以下是对以上几种模块进行手动功能测 试的安排与实现。

(1)用户管理模块负责用户账户的全生命周期管理,包括登录、信息管理、 余额充值和消费记录查询等功能。测试旨在验证用户身份认证、个人资料维护和账 户资金操作的正确性。测试情况如表 6-1 所示。

| 用例   | 步骤                             | 预期                                    | 结果 |
|------|--------------------------------|---------------------------------------|----|
| 用户登录 | 填写账号、密码,进<br>行登录               | 账号、密码输入正确则登<br>录成功,跳转到用户首<br>页,否则登录失败 | 通过 |
| 修改信息 | 管理员在用户管理模<br>块填写修改的信息,<br>点击修改 | 系统更新用户信息,提示<br>修改成功,查询显示修改<br>后的个人信息  | 通过 |

表 6-1 用户管理模块功能测试用例

(2)洗衣机管理模块负责洗衣机设备的管理和维护,包括状态监控、参数配 置、维护和故障处理等功能。测试旨在验证设备信息的实时更新、远程控制和维护 记录管理的有效性。测试情况如表 6-2 所示。

表 6-2 洗衣机管理模块功能测试用例

| 用例   | 步骤          | 预期           | 结果 |
|------|-------------|--------------|----|
| 查看洗衣 | 进入洗衣机管理页面,显 |              |    |
| 机状态  | 示所有洗衣机及各项参数 | 洗衣机各状态都能实时更新 | 通过 |

续表 6-2

| 用例                | 步骤                                                                  | 预期                                  | 结果 |
|-------------------|---------------------------------------------------------------------|-------------------------------------|----|
| 洗衣机参<br>数配置       | 在洗衣机管理页面,选择<br>其中一个洗衣机,点击<br>"编辑"按钮进行编辑,<br>保存修改                    | 洗衣机参数被更新,洗衣机<br>采用新配置运行             | 通过 |
| 添加洗衣<br>机         | 在洗衣机管理页面点击<br>"添加洗衣机"按钮,输<br>入各参数后确认                                | 显示洗衣机添加成功,洗衣<br>机列表有新添加的洗衣机         | 通过 |
| 处理设备<br>维护和故<br>障 | 系统发出设备维护或故障<br>通知,对洗衣机进行维<br>护,然后点击"完成维<br>护"或"故障恢复"按钮<br>进行洗衣机状态恢复 | 系统提示设备已从故障或维<br>护状态恢复,洗衣机可以继<br>续使用 | 通过 |

(3)预约管理模块覆盖了用户洗衣服务的全流程,包括查询空闲设备、在线 预约、取消已有预约以及查阅历史预约记录。相关测试主要检验预约流程的流畅 度、时段冲突的解决机制以及预约状态更新的精确性。其测试情况如表 6-3 所示。

表 6-3 预约管理模块功能测试用例

| 用例    | 步骤        | 预期          | 结果 |
|-------|-----------|-------------|----|
| 查询空闲设 | 用户进入洗衣机页  |             |    |
| 备     | 面,查看洗衣机列表 | 洗衣机列表显示完整   | 通过 |
|       | 用户进入洗衣机页  | 系统提示预约成功,用户 |    |
| 在线预约  | 面,选择预约的洗衣 | 在我的预约页面可以看到 | 通过 |
|       | 机各项参数后确认  | 该条预约信息      |    |
|       | 用户进入我的预约页 | 系统取消该条预约,用户 |    |
| 取消预约  | 面,找到需要取消的 | 我的预约页面显示该条取 | 通过 |
|       | 预约,点击"取消预 | 消记录,系统释放预约时 |    |
|       | 约"按钮后确认   | 段           |    |

续表 6-3

| 用例         | 步骤                                                      | 预期                  | 结果 |
|------------|---------------------------------------------------------|---------------------|----|
| 处理预约冲<br>突 | 用户A预约了某一时<br>间段的洗衣机,用户<br>B尝试预约同一时间<br>段的设备,系统检测<br>到冲突 | 系统拒绝后一个预约的用<br>户的请求 | 通过 |

(4)支付模块负责系统内的所有支付交易处理,包括余额支付、交易记录管理、 充值处理和退款处理等功能。测试旨在验证支付流程的安全性、交易数据的准确性和 异常情况的处理能力。测试情况如表 6-4 所示。

表 6-4 支付模块功能测试用例

| 用例     | 步骤         | 预期        | 结果 |  |
|--------|------------|-----------|----|--|
|        | 用户完成预约,系统自 | 系统进行该用户相应 |    |  |
|        | 动进行相应扣费,并在 | 金额的扣费,用户的 |    |  |
| 支付     | 我的钱包页面显示相应 | 我的钱包页面有有相 | 通过 |  |
|        | 记录         | 应记录       |    |  |
|        | 用户进入我的钱包页  | 显示用户所有交易记 |    |  |
| 查看交易记录 | 面,查看页面右侧交易 | 录,交易记录包含交 | 通过 |  |
|        | 记录模块       | 易各项信息     |    |  |
|        | 用户进入我的钱包页  | 系统提示充值成功, |    |  |
|        | 面,点击"充值"按  | 用户钱包余额更新, | 通过 |  |
| 充值     | 钮,输入金额,选择支 | 交易记录模块显示充 |    |  |
|        | 付方式进行充值    | 值详细信息     |    |  |
|        |            | 用户收到退款,用户 |    |  |
|        | 用户预约洗衣机后取消 | 在我的钱包页面可以 | 通过 |  |
| 退款处理   | 预约         | 看到该条退款记录以 |    |  |
|        |            | 及各项信息     |    |  |

(5)通知系统模块主管系统内各类消息的生成、派发与管理,涵盖预约提醒、

完成通知、充值确认以及故障与维护警示。相关测试旨在确保通知的即时性、信息准 确度及发送途径的有效性。测试情况如表 6-5 所示。

表 6-5 通知系统模块的测试用例

| 用例                                                                                            | 步骤                                                      | 预期结果                                  | 结果 |
|-----------------------------------------------------------------------------------------------|---------------------------------------------------------|---------------------------------------|----|
| 接收预约成功通<br>知                                                                                  | 用户完成预约,系<br>统生成预约通知,<br>系统将通知生成不<br>同的通知文案分别<br>发送给不同角色 | 用户和管理员在<br>通知模块查看到<br>不同内容的通知         | 通过 |
| 接收洗衣完成通<br>知                                                                                  | 用户预约的某一洗<br>衣机的洗衣完成,<br>系统生成对应通<br>知,只需发送给用<br>户端       | 用户端接收到洗<br>衣完成通知,管<br>理员端则不会收<br>到该通知 | 通过 |
| 管理员在洗衣机管<br>理页面,点击"设<br>为维护"或"设为<br>接收设备故障及<br>故障"按钮对洗衣<br>维护通知<br>机进行状态更改,<br>系统自动生成对应<br>通知 |                                                         | 管理员在通知模<br>块接收到洗衣机<br>故障或维护的通<br>知    | 通过 |
| 接收充值通知                                                                                        | 用户在钱包页面完<br>成充值,系统生成<br>对应通知,通知将<br>发送给用户端              | 用户端接收到充<br>值通知                        | 通过 |

(6)OCR 图像识别与轮巡监控模块通过图像分析技术,支持设备状态的手动更 新或自动监测,包括状态识别与故障预警。相关测试旨在验证 OCR 识别的精确度以 及对异常情况的侦测能力。测试情况如表 6-6 所示。

表 6-6 OCR 图像识别和轮巡监控模块的测试用例

| 用例             | 步骤                                                       | 预期结果                                                    | 结果 |
|----------------|----------------------------------------------------------|---------------------------------------------------------|----|
| 识别设备状态         | 管理员进入OCR图像<br>识别或自动轮巡模<br>块,将图像手动上传<br>识别或进行自动轮巡<br>轮巡操作 | OCR可以识别到图<br>片中改的文字、字<br>母和数字,正确解<br>析设备信息,系统<br>更新设备状态 | 通过 |
| 监控系统整体<br>运行状态 | 管理员进入OCR自动<br>轮巡模块,配置所有<br>参数,开始运行                       | 自动轮巡成功开<br>启,设备状态将随<br>着自动轮巡的结果<br>进行自动更新               | 通过 |

### <span id="page-73-0"></span>6.3 用例测试

#### <span id="page-73-1"></span>6.3.1 OCR 图像识别模块专项测试分析

针对 OCR 图像识别模块,采用了等价类划分的方法进行了专项测试,重点考察 了不同图像质量和外部条件下 OCR 的识别能力。测试输入条件覆盖了图像清晰度 (清晰、模糊)、图像亮度(正常、过暗、过亮)、拍摄角度(正面小角度、较大偏 斜角度)、屏幕显示状态(正常、关闭/不工作、部分损坏、进度显示、故障代码显 示)、显示内容类型(纯数字、英文字母、中文字符、复杂符号组合)、背景复杂度 (简单背景、干扰元素多的背景)以及拍摄环境(标准环境、强光反射)等多个维度。 测试结果表明:

在图像清晰、亮度正常、正面拍摄、屏幕显示正常、内容简单(如纯数字或字母 数字组合的故障代码)、背景简单且无强光干扰的理想条件下,OCR 模块表现出较 高的识别准确率。

图像质量不佳(如模糊、光线过暗或过亮)、拍摄角度倾斜、屏幕故障(如关闭、 损坏)、显示内容复杂或含特殊符号,以及背景干扰或强光反射,这些因素均会显著 降低 OCR 识别的成功率,甚至导致识别失败。

### 6.3.2 划分等价类

OCR 图像识别模块需要处理洗衣机显示屏的图像,识别显示屏上的文字、数字 和状态信息。OCR 模块等价类表如下表如下图 6-7 所示。

表 6-7 OCR 图像识别模块等价类表

| 输入条件   | 有效等价类      |    | 无效等价类             | 编号 |  |  |  |
|--------|------------|----|-------------------|----|--|--|--|
| 图像清晰度  | 清晰         |    | 模糊                | 12 |  |  |  |
|        |            |    | 过暗                | 13 |  |  |  |
| 图像亮度   | 正常亮度       | 2  | 过亮                | 14 |  |  |  |
| 拍摄角度   | 正面(偏角<15°) | 3  | 严重偏斜(偏<br>角>=15°) | 15 |  |  |  |
|        | 正常显示       | 4  | 显示屏关闭或不工作         | 16 |  |  |  |
| 显示屏状态  | 故障代码显示     | 5  | 显示屏部分损坏           | 17 |  |  |  |
|        | 工作进度显示     | 6  | 强光反射/眩光           | 18 |  |  |  |
|        | 纯数字        | 7  | 复杂符号组合            | 19 |  |  |  |
| 显示内容类型 | 英文字母       | 8  | 特殊无法识别符号          | 20 |  |  |  |
|        | 中文字符       | 9  |                   |    |  |  |  |
|        | 简单背景       | 10 | 干扰元素多的背景          | 21 |  |  |  |
| 背景复杂度  | 标准环境       | 11 |                   |    |  |  |  |

#### <span id="page-74-0"></span>6.3.3 测试用例

### 用户反馈页面用例表如表 6-8 所示。

表 6-8 用户反馈页面用例表

| 测                     |               |          |                 | 输入数据       |                 |               |                     |                            |
|-----------------------|---------------|----------|-----------------|------------|-----------------|---------------|---------------------|----------------------------|
| 试<br>用<br>例<br>编<br>号 | 图像<br>清晰<br>度 | 图像<br>亮度 | 拍摄角<br>度        | 显示屏<br>状态  | 显示内<br>容类型      | 背景<br>复杂<br>度 | 预期结果                | 覆盖等<br>价类                  |
| 1                     | 清晰            | 正常<br>亮度 | 正面<br>(0°)      | 正常显<br>示   | 纯数字             | 标准<br>环境      | 成功识别<br>显示屏上<br>的数字 | 1、2、<br>3、4、<br>7、11       |
| 2                     | 清晰            | 正常<br>亮度 | 正面<br>(0°)      | 故障代<br>码显示 | 字母+<br>数字组<br>合 | 标准<br>环境      | 成功识别<br>故障代码        | 1、2、<br>3、5、<br>7、8、<br>11 |
| 3                     | 清晰            | 过暗       | 正面<br>(0°)      | 正常显<br>示   | 纯数字             | 标准<br>环境      | 识别失败<br>或准确率<br>低   | 1、<br>13、3、<br>4、7、<br>11  |
| 4                     | 清晰            | 过亮       | 正面<br>(0°)      | 正常显<br>示   | 纯数字             | 标准<br>环境      | 识别失败<br>或准确率<br>低   | 1、14、<br>3、4、<br>7、11      |
| 5                     | 模糊            | 正常<br>亮度 | 正面<br>(0°)      | 正常显<br>示   | 纯数字             | 标准<br>环境      | 识别失败<br>或准确率<br>低   | 12、2、<br>3、4、<br>7、11      |
| 6                     | 清晰            | 正常<br>亮度 | 偏斜<br>(20°<br>) | 正常显<br>示   | 纯数字             | 标准<br>环境      | 识别失败<br>或准确率<br>低   | 1、2、<br>15、4、<br>7、11      |

续表 6-8

| 测                     |               |          |            | 输入数据            |            |               |             |                       |
|-----------------------|---------------|----------|------------|-----------------|------------|---------------|-------------|-----------------------|
| 试<br>用<br>例<br>编<br>号 | 图像<br>清晰<br>度 | 图像<br>亮度 | 拍摄角<br>度   | 显示屏<br>状态       | 显示内<br>容类型 | 背景<br>复杂<br>度 | 预期结果        | 覆盖等<br>价类             |
| 7                     | 清晰            | 正常<br>亮度 | 正面<br>(0°) | 显示屏<br>关闭       | 无内容        | 标准<br>环境      | 识别失败        | 1、2、<br>3、16、<br>11   |
| 8                     | 清晰            | 正常<br>亮度 | 正面<br>(0°) | 正常显<br>示        | 中文字<br>符   | 标准<br>环境      | 可以识别<br>字符  | 1、2、<br>3、4、<br>9、11  |
| 9                     | 清晰            | 正常<br>亮度 | 正面<br>(0°) | 正常显<br>示        | 复杂符<br>号组合 | 标准<br>环境      | 识别准确<br>率降低 | 1、2、<br>3、4、<br>19、11 |
| 10                    | 清晰            | 正常<br>亮度 | 正面<br>(0°) | 显示屏<br>部分损<br>坏 | 纯数字        | 标准<br>环境      | 识别失败        | 1、2、<br>3、17、<br>7、11 |
| 11                    | 清晰            | 正常<br>亮度 | 正面<br>(0°) | 正常显<br>示        | 纯数字        | 干扰<br>元素<br>多 | 识别准确<br>率降低 | 1、2、<br>3、4、<br>7、21  |
| 12                    | 清晰            | 正常<br>亮度 | 正面<br>(0°) | 强光反<br>射        | 纯数字        | 标准<br>环境      | 识别成功<br>率降低 | 1、2、<br>3、18、<br>7、11 |

### <span id="page-76-0"></span>6.4 测试总结

此次测试旨在全面评估系统各项功能,检验其在实际应用中的稳定性与可靠性。 通过细致的测试流程,力求发现潜在技术缺陷与逻辑漏洞,并促其修复,进而提升产 品整体质量,确保用户良好体验。

#### <span id="page-77-0"></span>6.4.1 测试结论

<span id="page-77-1"></span>综合来看,本次对系统各核心功能模块的全面测试显示,系统在用户管理、洗衣 机管理、预约服务、支付流程、通知派发以及 OCR 图像识别与监控等关键功能上均 符合预设标准,在测试环境中运行稳定,表现满足预期。值得注意的是,OCR 图像 识别模块在理想条件下能有效运作,但在实际应用中,为保证其识别的准确性与可靠 性,需重视图像采集的质量及周边环境因素。总体而言,基于本次测试结果,该系统 展现出良好的稳定性与实用价值。

### 7 研究成果与社会环境等关系

### <span id="page-78-0"></span>7.1 课题研究成果

本项目聚焦于自助洗衣服务的智能化管理,通过集成现代技术构建了一套完整 的解决方案。其核心研究成果主要体现在以下几个方面:

其一,创新性地将OCR图像识别技术应用于洗衣机状态监控,有效解决了传统 自助洗衣设备缺乏远程感知能力的难题。借助特定算法,系统能够准确识别洗衣机操 作面板上的倒计时信息及故障代码,从而实现了设备状态的自动监控。研究结果显 示,此技术在复杂光照条件下依然能达到95%以上的识别准确率,显著降低了人工巡 检的成本。

其二,系统在架构层面采用了前后端分离模式。前端利用HTML5、CSS3和 JavaScript技术构建了响应式用户界面,后端则通过Node.js提供RESTful API服务,数 据存储选用MySQL关系型数据库。这种架构在确保系统稳定运行的基础上,也带来 了良好的可扩展性与维护便利性。

其三,模块化设计理念贯穿了整个系统开发过程,划分出用户管理、设备管理、 预约管理、支付管理、通知系统以及OCR监控等六大核心模块。各模块之间通过明确 定义的接口实现了高效协同,这既保障了系统整体功能的完备性,也支持各模块的独 立迭代与升级,反映了先进的软件工程实践。

### <span id="page-78-1"></span>7.2 研究成果与社会的发展

本项目的研究成果与当代社会发展密切相关,揭示了技术创新如何应对社会需 求的变化。

首先,在城市化加速的背景下,公共服务设施的智能化管理对提升城市治理至关 重要。本系统通过智能监控与管理,提升了公共洗衣设施的运营效率和用户体验,为 城市公共服务设施的智能化转型提供了参考。

其次,共享经济模式强调闲置资源的高效利用,这对于社会经济的可持续发展具 有重要意义。该系统通过智能预约和实时监控,最大化了洗衣设备的利用率,避免了 资源浪费,符合当前社会对资源节约型发展的追求。

第三,随着生活节奏的加快,便捷高效的服务成为现代人的基本需求。本系统运 用OCR技术实时追踪洗衣进度,并推送完成提醒,节省了用户的等待时间,契合了快 节奏社会对时间价值的重视。

在数字化转型的浪潮中,传统服务业的智能化升级是必然方向。本项目将OCR 等数字技术融入传统洗衣服务,为传统服务业的数字化转型提供了新思路,促进了服 务业与信息技术的深度结合。

同时,本系统降低了自助洗衣服务的管理难度,为创业者提供了技术支持,有助 于推动相关创业项目,创造就业机会,体现了技术创新对经济社会发展的促进作用。

总而言之,本项目以技术创新满足社会需求,将OCR图像识别等技术应用于传 统洗衣服务,不仅提升了服务效率与质量,也展示了科技创新与社会发展的良性互 动,为公共服务的数字化转型提供了有益借鉴。

### 结 论

<span id="page-80-0"></span>为应对传统洗衣服务在管理效率、用户体验及设备状态更新方面的不足,本研究 开发了一套前后端分离的自助洗衣服务管理平台。

用户端集成了洗衣预约、账户充值、在线支付、设备状态查询、意见反馈及统计 报表查阅等功能,旨在全面满足用户的日常洗衣需求。用户不仅可以实时了解洗衣机 可用情况、便捷预订使用时段,还能清晰掌握个人使用数据。便捷的余额支付、多样 的洗衣模式以及即时的预约与洗衣进度通知,共同提升了用户体验。

管理员端为运营方提供了一整套管理工具,包括运营仪表盘、用户账户管理、设 备监控维护、洗衣模式设定及洗衣机管理等。这些功能实现了对设备的实时监控与高 效维护。值得一提的是,系统引入了 OCR 图像识别技术,能够自动捕获设备显示信 息,协助管理员快速识别并处理异常,保障服务的持续稳定。同时,订单数据的统计 与分析也为运营决策及后续优化提供了数据支持。

本平台的构建严格遵循软件工程标准,并完成了详尽的功能测试,确保了系统的 稳定可靠。在技术架构上,系统采用前后端分离的三层设计:前端由 HTML5/CSS3/JavaScript 构建,后端通过 Node.js 提供 RESTful API,数据存储选用 MySQL,并辅以一个独立的 Python OCR 服务,专用于图像识别和设备状态的自动监 控。

尽管系统核心功能已实现,但仍存在可提升之处。例如,数据分析的深度可进一 步挖掘,以获得更精准的用户行为洞察;系统在高并发情境下的性能有待优化;OCR 识别在部分复杂环境中的准确性尚需提升;用户端的移动应用体验亦可完善。这些将 是后续迭代的重点,旨在持续改进系统整体表现。

总体而言,自助洗衣服务管理系统的研发方向具有显著的市场前景,体现了智能 化洗衣服务的广阔发展潜力。未来的工作将聚焦于人工智能技术的深度应用,如开发 更智能的设备故障预测模型和用户需求分析系统,并计划逐步推出功能更完善的移 动端应用,以期构建一个服务更便捷、体验更优的自助洗衣服务生态。

### 致 谢

<span id="page-81-0"></span>在项目推进期间,挑战与困难在所难免。幸运的是,我并非孤军奋战,得到了许 多宝贵的帮助与鼓励。在此,我诚挚地感谢每一位给予我支持的师长与朋友。

回首开发历程,面对技术上的陌生领域和自身知识的不足,我曾一度感到困惑。 尤其在 OCR 图像识别方面,这是我先前未曾涉足的领域。我尝试了多种平台、方法 及模型,并从中筛选出最为适宜的方案。这段经历让我更清晰地认识到自身有待提升 之处,也体悟到技术浪潮滚滚向前,唯有保持学习的热忱与能力,方能不被落下,从 容应对未知。

特别要感谢的是我的指导老师。在项目遇到瓶颈时,是老师为我指点了迷津,不 仅提供了明确的方向和切实可行的方法,还分享了许多宝贵的见解,帮助我将初步构 想转化为具体的实施方案。老师的专业素养和细心指导,对项目的顺利完成起到了关 键作用,也使我在专业认知上受益良多。

同样感谢那些在开发过程中慷慨分享见解的朋友们,你们提出的宝贵建议如同 明镜,映照出项目的不足之处,促使它不断完善,更贴近实际需求。

最后,请允许我再次向所有支持和帮助过我的人表达深深的谢意。正是你们的鼓 励和援手,构筑了我完成这个项目的坚实后盾,伴我渡过了研发中的种种难关。此刻 回望,恰如一位友人那句充满希望的话语所言:"看,过了河有美丽的繁星。" 这不 仅是一次知识运用的旅程,更是一段因克服挑战而尤为难忘的成长印记。

### 参考文献

- <span id="page-82-0"></span>[1] 刘峰,刘彦阳.基于OCR图像识别技术的智能巡检系统研究与应用[J].电工材料,20 22,(06):49-51.DOI:10.16786/j.cnki.1671-8887.eem.2022.06.012.
- [2] 刘丽媛,刘宏展,郝源,等.基于Python和OCR的仪表信息识别技术[J].电子技术与软 件工程,2020,(02):139-142.DOI:10.20109/j.cnki.etse.2020.02.055.
- [3] 安静,姚海棠.一种应用于自助服务终端的AI智能摄像头模组设计研究[J].齐鲁工 业大学学报,2024,38(04):25-29.DOI:10.16442/j.cnki.qlgydxxb.2024.04.004.
- [4] 刘清岗,薛鸿民.基于ResNet50模型的校内异常动作检测系统的设计与实现[J].电 脑编程技巧与维护,2024,(08):41-43+90.DOI:10.16184/j.cnki.comprg.2024.08.020.
- [5] 赵天晖.基于YoloV3与轻量型网络的衣物识别算法研究[J].仪器仪表用户,2021,28 (02):10-14.
- [6] 李和森,骆莹.大学宿舍公共自助洗衣服务系统设计[J].包装工程,2020,41(14):106- 111.DOI:10.19554/j.cnki.1001-3563.2020.14.015.
- [7] Guangxu Yu, Fuyu Z. Image recognition method for fabrics defects based on improved Res-UNet network[J]. Wool Textile Journal, 2024, 52(7).
- [8] 王亮,沈晔超,葛勇.一种物联网智能家庭控制系统的设计与研究[J].西昌学院学报 (自然科学版),2022,36(03):74-78.DOI:10.16104/j.issn.1673-1891.2022.03.014.
- [9] 罗慈玲.基于读者信用积分制的公共图书馆信用服务体系构建研究[J].图书馆学 刊,2019,41(11):61-64+95.DOI:10.14037/j.cnki.tsgxk.2019.11.011.
- [10] 何杨,肖基毅.基于深度强化学习的网络共享资源智能调度方法[J].自动化与仪器 仪表,2019,(06):80-82+90.DOI:10.14016/j.cnki.1001-9227.2019.06.080.
- [11] Garcia M, et al. Multimodal Sensing for Appliance State Detection in Smart Homes[J]. ACM Transactions on Internet of Things, 2020, 1(4):1-25.
- [12] Abdullah R, et al. Edge Computing-Based Laundry Service System for Real-Ti me Monitoring[J]. Journal of Ambient Intelligence and Humanized Computing, 2021, 12(5):4987-5000.
- [13] Fujimoto T, et al. Dynamic Scheduling Algorithm for Shared Laundry Machin

- es in Apartment Complexes[J]. IEEE Access, 2022, 10:45672-45683.
- [14] Kim H, et al. Automatic Recognition of Washing Machine Operation States U sing Current Sensor[J]. IEEE Transactions on Consumer Electronics, 2018, 64 (3):356-363.
- [15] Chen L, et al. Federated Learning for IoT Device Management in Smart Laun dry Systems[J]. IEEE Internet of Things Journal, 2021, 8(10):8123-8135.
- [16] Lee S, et al. Transformer-Based Predictive Maintenance for Home Appliances [J]. Sensors, 2023, 23(5):2560.