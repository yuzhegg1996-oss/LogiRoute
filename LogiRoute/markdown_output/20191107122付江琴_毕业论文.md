# 基于数据挖掘的二手商品交易系统设 计与实现

学 院:信息科学与工程学院

专业班级:软件工程 1903 班

姓 名:付江琴

学 号:20191107122

指导教师:董红斌 教授 高巍 助教

# 基于数据挖掘的二手商品交易系统设 计与实现

<span id="page-1-0"></span>**Design and Implementation of a Second-Hand Commodity System based on Data Mining**

# 摘 要

近年来,消费陷阱越来越普遍,导致二手商品的数量不断增加。无论是生活用品 还是兴趣爱好相关的物品,都存在大量只使用过一两次后就被闲置的情况。因此,迫 切需要一个专门的在线交易平台来解决这个问题,为闲置物品找到新的主人。

本系统主要实现一种基于数据挖掘的二手商品交易系统。本系统为 B/S 架构, 采用 Java 开发。系统以用户的历史数据作为研究对象,构建了基于数据挖掘的个性 化推荐系统。本系统主要包括用户管理、商品展示、商品交易等模块,其中重点设计 与实现了商品发布与搜索模块,以确保用户能够方便地发布自己的闲置物品,并能通 过智能搜索找到符合自己需求的物品。本系统还设计了一个推荐算法,通过分析用户 的历史行为和偏好,为每个用户提供个性化的推荐结果。本系统实现了二手商品的发 布、购买等交易功能,并提供了符合用户需求的商品个性化推荐服务。

关键词:数据挖掘 二手商品交易 协同过滤

# **Abstract**

<span id="page-3-0"></span>In recent years, consumer traps have become more common, leading to an increasing number of second-hand goods. Whether it is daily necessities or hobbies-related items, there are a large number of cases where they are left idle after only one or two uses. Therefore, there is an urgent need for a dedicated online trading platform to solve this problem and find a new owner for idle items.

This system mainly implements a second-hand commodity trading system based on data mining. This system is a B/S architecture and is developed in Java. The system takes the historical data of users as the research object, and constructs a personalized recommendation system based on data mining. The system mainly includes user management, commodity display, commodity trading and other modules, which focuses on the design and implementation of commodity release and search modules to ensure that users can easily publish their idle items, and can find items that meet their needs through intelligent search. The system also designs a recommendation algorithm to provide personalized recommendation results for each user by analyzing the user's historical behavior and preferences. This system realizes the transaction functions such as the release and purchase of second-hand goods, and provides personalized recommendation services for goods that meet the needs of users.

**Key words**:data mining second-hand commodity trading collaborative filtering

# 目 录

| 摘    | 要I                   |
|------|----------------------|
| Abs  | stractII             |
| 1    | 绪论1                  |
| 2 系  | 系统分析4                |
| 2.1  | 可行性分析4               |
| 2.1. | 1 技术可行性分析4           |
| 2.1. | 2 经济可行性4             |
| 2.1. | 3 操作可行性4             |
| 2.2  | 需求分析4                |
| 2.2. | 1 协同过滤推荐算法7          |
| 2.2. | 2 MySQL 数据库 8        |
| 2.2. | 3 SSM 框架             |
| 3 差  | 系统设计10               |
| 3.1  | 数据挖掘部分功能设计10         |
| 3.2  | 二手商品交易系统功能模块设计11     |
| 3.3  | 二手商品交易系统工作流程设计12     |
| 3.4  | 二手商品交易系统数据库概念设计13    |
| 3.5  | 系统数据库逻辑设计16          |
| 4 秀  | 系统实现                 |
| 4.1  | 登录模块代码设计以及页面展示20     |
| 4.2  | 订单模块代码设计以及页面展示22     |
| 4.3  | 商品模块代码设计以及页面展示23     |
|      | 关于协同过滤实现的商品相似度计算示例26 |
| 4.5  | 管理员部分页面展示28          |
| 5 系  | 系统测试31               |
| 5.1  | 系统测试的目的31            |

| 5.2 测试方法        | 31 |
|-----------------|----|
| 5.3 测试用例        | 31 |
| 5.4 测试结果分析      | 33 |
| 6 研究成果与社会、经济等关系 | 34 |
| 结 论             | 35 |
| 致 谢             | 38 |
| 参考文献            | 40 |

# 1 绪论

<span id="page-6-0"></span>随着科学技术的进步与发展,国家日益繁荣昌盛,互联网经济快速发展,网络购 物为人们带来便捷的同时,也增加了人们冲动消费的概率,导致二手物品数量增加。 关于此现象,申慧颖、郭彦鹏等人在《电子商务背景下创建校园二手平台的构想》[1] 一文中讲述了迎合"绿色经济"的发展趋势,网络二手交易平台应运而生。但是目前几 个发展较为成熟的知名电商平台,以及一些知名网络二手交易平台存在一些缺陷。目 前在大数据初步用于电商推荐系统时,例如王辉、李昌刚等人《基于机器学习的商品 特性表征和客户偏好预测》[2] 文中就介绍了关于基于机器挖掘实现的对用户商品特征 进行用户行为数据分析以及实现客户偏好预测。猜你喜欢,看了又看等推荐形式给用 户带来了许多全新体验,现在已经有很多现存的例子,顾徐斌在《论电子商务平台个 性化推荐的实现》[3] 中就分析了目前电子商务平台的个性化推荐。例如淘宝,京东等 电商系统。这些系统都可以一定程度上在短期内捕捉消费者的兴趣点。但是由于用户 兴趣点在长期和短期内都会发生变化,推荐结果会造成用户疲劳。本系统针对此,也 是基于用户历史购买数据,实现一个网络二手交易的个性化推荐系统。

近年的普及,电子商务的发展已经迅猛。二手交易平台已经成为一种热门的电子 商务形式,其中包括淘宝、京东等大型交易平台,以及拍拍、赶集等小型交易平台。 由于交易量大,信息量大,以及消费者对个性化服务的需求,例如陶庆凤在《基于 Apriori 算法的电子商务个性化推荐系统研究》[4] 以及丁文林《基于关联规则的 Apriori 算法在推荐系统的应用》[5] 表示个性化推荐系统对于二手交易平台的发展具有重要的 意义。例如王益国、何洪剑、高娟等人在《基于混合推荐模型的校园二手商品推荐算 法》[6] 文中介绍了一个基于混合推荐模型的校园二手商品推荐算法,以基于数据挖掘 的个性化推荐系统为研究对象。近几年在二手交易平台的个性化推荐系统方面的研 究越来越多。目前,研究者们经常使用基于数据挖掘的个性化推荐系统来解决二手交 易平台的推荐问题。例如张文龙、钱付兰、陈洁等人在《基于双重最相关注意力网络 的协同过滤推荐算法》[7] 中研究人员借鉴了现有的推荐系统,如推荐引擎和协同过滤, 并通过对用户行为数据、商品信息等的挖掘,为二手交易平台的推荐系统提供支持。 国内外研究现状中个性化推荐系统在二手交易平台中具有重要的应用价值,例如刘

晓蒙在《基于协同过滤的学习资源推荐算法》[8] 可以根据用户的个人兴趣和行为习惯, 为用户提供更加符合他们需求的商品推荐,从而提高用户购买意愿和满意度,本文将 介绍基于数据挖掘的二手交易平台个性化推荐系统的相关参考文献,涵盖了近年来 的研究进展和实践案例。基于内容的个性化推荐算法是根据商品的属性和用户的历 史行为数据,通过计算商品之间的相似度,为用户推荐相似的商品。该算法可以避免 协同过滤算法中的"冷启动"问题,即当新商品上架时,没有足够的用户历史行为数据 来计算推荐结果。

比如,刘丰维在《基于用户历史行为序列的电商个性化推荐系统》[9] 中描述,二 手交易平台的个性化推荐系统的核心在于用户兴趣建模,即如何从海量数据中捕捉 用户的兴趣偏好。大多数二手交易平台的推荐系统都采用基于协同过滤的推荐算法, 该算法是一种基于用户历史行为数据的推荐方法,可以根据用户对商品的评分或者 点击行为,推断出用户的兴趣偏好,从而为其推荐相似的商品。

关于现存的推荐系统主要有下面几种,李亚欣、蔡永香、张根等人在《结合实时 推荐与离线推荐的推荐系统》[10] 中就描述了.目前主要是把基于数据挖掘的推荐系统 分为两个层次,即离线推荐和在线推荐。离线推荐是建立模型和算法,以及处理用户 行为数据的过程,用于分析消费者的消费偏好,以找出潜在的消费规律和模式。张岩 在《基于 Spark 框架的电商实时推荐系统的设计与实现》[11]一文中就描述了一个在线 实时推荐在线推荐则是根据用户的个性化需求以及离线推荐的结果,为用户提供个 性化的推荐结果。

结合数据挖掘技术,对二手交易平台的推荐系统进行了改进。例如,王宝军《基 于商品标签化与关联规则的电子商务商品关联推荐研究》[12] 中,通过商品标签化,找 到商品与商品之间的关联规则,可以通过对二手交易平台的用户行为数据进行挖掘, 发现消费者的消费规律和模式,并发现那些购买行为的关联性,从而实现个性化推 荐。此外,例如关菲、周艺、张晗等人在《个性化推荐系统中协同过滤推荐算法优化 研究》[13] 研究人员还结合协同过滤技术,以及社交网络中的用户行为数据,使用基于 聚类分析的推荐系统,来实现二手交易平台的个性化推荐。

还开发了新的基于数据挖掘的个性化推荐系统,以解决二手交易平台的推荐问 题。例如,引入了深度学习技术,可以建立更加准确的模型,增加推荐的准确度和可 靠性;引入了主题建模技术,可以从用户行为中挖掘出消费者的偏好,从而实现更加 准确的个性化推荐。

# 2 系统分析

#### <span id="page-9-1"></span><span id="page-9-0"></span>2.1 可行性分析

#### <span id="page-9-2"></span>2.1.1 技术可行性分析

基于数据挖掘的二手商品交易系统主要开发使用的工具是 Eclipse,二手商品交 易系统开发语言使用的是 Java,目前主要是借鉴了现有的推荐系统,如推荐引擎和 协同过滤,并且通过对用户行为数据,商品信息等挖掘,为二手商品交易平台的推荐 系统提供支持。在大二的时候,在学校学习了 Java 基础课程,在大三时期学习了软 件工程和深度学习一些基础的算法,同时在整个大学期间也完成了很多课设,因此我 具有一定的技术支持可以完成该项毕业设计。具有系统需求分析,总体设计与实施和 测试的能力。因此基于数据挖掘的二手商品交易系统的实现在技术上具有可行性。

#### <span id="page-9-3"></span>2.1.2 经济可行性

基于数据挖掘的二手商品交易系统实现是 B/S 结构,对于整个系统的实现,仅 仅需要一台计算机,对计算机没有配置的要求,简简单单就可以达到开发的要求,本 次系统设计是个人单独完成,所以开发费用和后期维护费用是零。完成这次系统设 计,同时也帮助了我个人复习了很多以前的知识,让我的开发能力和单独思考解决问 题的能力得到一定提升。并且在当前提倡"绿色经济"的社会中,该系统已经是人们生 活中常常会用到的。因此具有经济可行性。

#### <span id="page-9-4"></span>2.1.3 操作可行性

如今的社会几乎人人家里都有电脑和手机,用户只需要在浏览器中输入网址,注 册登录就可以使用该平台。同时该平台基于历史订单,用户历史浏览数据通过协同过 滤等实现个性化推荐,具有非常好的操作可行性。

# <span id="page-9-5"></span>2.2 需求分析

二手商品交易平台其实和淘宝等类似购物平台相似,但是其优点是在于在这个 里面大多数都是人们因冲动消费或者一些当前完好但是不太需要的生活日用品,将 原来死板定点摆摊的线下二手交易改为线上交易,使得整个交易流程更加便捷,安 全。并且同时还有第三方监管来确保真实性和公平性。

为了满足二手商品交易平台的功能需求,该系统需要实现二手商品的发布、浏 览、推荐和购买等基本功能。对于用户来说,其主要功能包括浏览商品、购买商品、 注册登录、发布商品、评论商品以及管理个人信息等。同时,为了确保整个平台的公 正性和可靠性,还需要一个后台管理员,负责管理用户信息、订单和发布在平台上的 所有商品。

根据以上功能需求分析,我们可以通过用例图来描述系统的主要功能。可以确定 的是模型的使用者目前有:游客,注册用户,系统管理员。下面分别对这三种功能角 色进行描述。如图 2-1 所示。

#### (1) 游客:

- a. 浏览商品
- b. 搜索商品
- c. 注册成为网站用户
- d. 查看商品详细

![](_page_10_Figure_7.jpeg)

#### (2) 用户:

- a. 浏览商品
- b. 搜索商品
- c. 发布商品
- d. 个人信息管理
- e. 登录网站
- f. 评论商品

- g. 购买商品
- h. 网站充值
- i. 查看商品详细信息

![](_page_11_Figure_3.jpeg)

图 2-2 用户用例图

#### (3) 系统管理员:

- a. 用户管理
- b. 商品管理
- c. 订单管理
- d. 钱包管理
- e. 系统设置

![](_page_12_Figure_0.jpeg)

图 2-3 管理员用例图

#### <span id="page-12-0"></span>2.2.1 协同过滤推荐算法

二手交易平台的个性化推荐系统的核心在于用户兴趣建模,即如何从海量数据 中捕捉用户的兴趣偏好。目前,大多数二手交易平台的推荐系统都采用基于协同过滤 的推荐算法,该算法是一种基于用户历史行为数据的推荐方法,可以根据用户对商品 的评分或者点击行为,推断出用户的兴趣偏好,从而为其推荐相似的商品。然而,该 方法也存在一些小问题,就像数据稀疏性的问题、冷启动的问题等。为了解决这些问 题,一些研究者开始探索其他的用户兴趣建模方法。比如,基于标签的推荐方法,该 方法将用户对商品的标签信息视为用户兴趣的表现形式,可以更好地利用用户的隐 式反馈信息;基于深度学习的推荐方法,该方法可以学习到更复杂的用户兴趣表示, 提高推荐的精度等。

本系统平台主要实现的推荐算法是基于协同过滤来实现用户的定期推荐,通过 用户的历史订单数据,以及通过对订单商品分析,根据商品的属性信息,计算商品之 间的相似度。可以基于商品的类别,标签或其他属性进行计算。

物品协同过滤:物品协同过滤是另一种常见的协同过滤方法。该方法通过分析物 品之间的关联性和相似性,找到与用户已喜欢的物品相似的其他物品,并推荐给用 户。物品协同过滤算法通常使用基于物品的相似度矩阵,如余弦相似度或皮尔逊相关 系数,来计算物品之间的相似度。

#### <span id="page-13-0"></span>2.2.2 MySQL 数据库

MySQL 是一款开源的关系型数据库管理系统,常用的数据库管理语言——结构 化查询语言(SQL)被用来管理系统数据库。由于其性能稳定、易于学习和使用, MySQL 被广泛应用于中小型网站的互联网应用中。它能够支持多种操作系统,为许 多中小型网站提供了经济实用的网站数据库解决方案,降低了网站总体拥有成本。简 单易学,并且性能稳定,利于使用。

#### <span id="page-13-1"></span>2.2.3 SSM 框架

SSM 是 Spring+SpringMVC+MyBatis 三个框架的整合,各个框架都有其特点和 优点。

- (1)Spring 框架是一个轻量级的框架,具有依赖注入和面向切面编程等特点。 它可以简化企业级应用的开发,提高代码的可测试性、可维护性和可扩展性。Spring 还提供了大量的工具类和插件,如 Spring Security、Spring Data 等,使开发人员可以 更方便地进行应用程序开发。
- (2)SpringMVC 是 Spring 框架的一部分,用于 Web 应用程序的开发。它可以 通过简单的注解或配置文件来实现请求的处理和响应的生成,同时提供了一些方便 的功能,如文件上传、请求参数绑定、数据验证等。SpringMVC 还提供了一些扩展 点,如拦截器、视图解析器等,使得开发人员可以更灵活地进行 Web 开发。
- (3)MyBatis 是一款 ORM 框架,它可以将 Java 对象和数据库表进行映射,简 化了数据访问层的开发。MyBatis 采用了 SQL 语句的动态生成,可以根据不同的条 件来生成不同的 SQL 语句,从而提高了系统的灵活性。同时,MyBatis 还支持一些 高级功能,如缓存、延迟加载等,使得数据访问更加高效。

SSM 框架整合了这三个框架的优点,使得开发人员可以充分发挥各个框架的功 能。其中,Spring 框架可以提供依赖注入、AOP 等功能;SpringMVC 框架可以提供 Web 应用程序的开发支持;MyBatis 框架可以提供 ORM 功能,使得数据访问更加方 便。整合这三个框架后,可以使得应用程序的开发变得更加简单和高效,同时也可以 提高代码的可维护性和可扩展性。

# 3 系统设计

# <span id="page-15-1"></span><span id="page-15-0"></span>3.1 数据挖掘部分功能设计

基于数据挖掘的二手商品推荐系统是一个能够根据用户行为和商品特征进行智 能推荐的平台。本系统需要具备以下功能:

用户画像:根据用户行为和兴趣爱好等信息,对用户进行画像分析,以提供个 性化推荐服务。

商品推荐:根据用户历史行为、商品属性、地理位置等信息,进行商品推荐。可 以通过推荐列表、推荐广告、个性化首页等方式呈现推荐结果。搜索功能:支持用户 对二手商品进行关键词搜索,提供快速、准确的搜索结果。

商品分类和标签:为二手商品进行分类和标签,方便用户快速浏览和搜索。同时 也可以作为推荐算法的特征之一,提高推荐效果和准确性。

数据可视化和分析:提供数据可视化和分析工具,帮助管理员和运营人员了解用 户和商品的特征和行为,以做出更好的业务决策。

本系统的商品推荐功能主要使用基于协同过滤的推荐算法实现,具体实现步骤 如下:

- (1)数据收集:收集用户的历史交易记录,以及商品的属性信息。用户相似度 计算,根据用户的历史交易记录和评价数据,计算用户之间的相似度。常用的计算方 法包括余弦相似度和皮尔逊相关系数等。商品相似度计算:根据商品的属性信息,计 算商品之间的相似度。可以基于商品的类别、标签或其他属性进行计算。
- (2)推荐生成:根据邻居用户的历史交易记录,预测目标用户对未购买的商品 的喜好程度。可以使用加权平均或其他方法进行预测。
- (3)推荐结果呈现:将排序后的推荐结果呈现给目标用户,可以在系统界面或 推荐列表中展示。

基于协同过滤的推荐算法可以利用用户之间的行为和偏好信息,为用户提供个 性化的推荐体验,提高系统的用户满意度和交易转化率。

本平台主要设定的推荐是基于每日晚上十二点进行算法分析,针对用户的历史 数据以及用户行为来实现推荐的定期更新行为。

本系统平台选择协同过滤的具体原因如下。

个性化推荐能力强:协同过滤算法通过分析用户行为和偏好,基于用户之间的相 似性或项目之间的相似性,能够为每个用户提供个性化的推荐结果。它利用其他用户 的行为数据来预测用户的兴趣,能够发现用户未曾接触过的潜在喜好,为用户提供多 样化的推荐。

无需依赖商品内容信息:相比于基于内容的推荐算法,协同过滤算法不需要依赖 商品的详细内容信息,只需分析用户的行为数据,如评分、购买记录等。这样可以减 少对商品信息的依赖和处理成本,使得算法更具可扩展性。

适应性强:协同过滤算法适用于不同领域和类型的推荐系统。无论是电商平台、 音乐推荐、电影推荐还是社交媒体,协同过滤算法都能够根据用户行为数据进行个性 化的推荐。

协同效应:协同过滤算法的推荐结果基于用户之间的协同行为和共同兴趣,具有 一定的社交效应。用户的行为和反馈会对其他用户的推荐结果产生影响,形成一个相 互促进的社区效应。

实时性:协同过滤算法通常能够在系统中实时地进行推荐,因为它只需要计算用 户之间的相似度或项目之间的相似度,并基于相似度进行推荐。对于新用户或新项目 的加入,算法可以快速进行适应和调整,提供实时的推荐结果。

# <span id="page-16-0"></span>3.2 二手商品交易系统功能模块设计

二手商品交易系统的综合性相对性较强,复杂程度较高,目前开源项目可借鉴的 较多,构成完善成熟的校园二手商品交易系统,其中涉及到以下内容:前台网页界面, 程序处理,MySQL 后台数据系统等,在网站中主要显示的内容有:商品图片,商品 名称,商品价格,商品信息等。用户的对程序页面进行的管理实际上也就是对用户提 交表单与相关操作进行处理,处理在后台数据库的信息商品数据,商品价格,用户数 据等。

为了满足用户需求,二手商品交易平台必须拥有前台和后台功能。具体而言,前 台功能应包括:用户注册、登录、发布商品、商品分类、商品搜索、商品评论、商品 详情、购买商品、订单管理和个人设置。系统前台功能如下图所示。

![](_page_17_Figure_0.jpeg)

图 3-1 系统功能模块图

# <span id="page-17-0"></span>3.3 二手商品交易系统工作流程设计

系统工作流程可以分为用户工作流程和管理员工作流程两部分。用户进入平台 后可以注册登陆账号,在登录账号之前用户属于游客模式,游客可以浏览网页,浏览 商品,但是不能在平台下单。登陆账号后,用户在平台下单之前,必须在用户的个人 管理里钱包充值,管理员审核后,待钱包有足够的钱后用户可以在平台进行购买,生 成订单后,该平台可以通过历史订单数据,计算商品相似度,平台将首页重新生成用 户个性化推荐内容。

具体的系统工作流图如下图所示。

![](_page_18_Figure_0.jpeg)

图 3-2 系统功能流程设计图

# <span id="page-18-0"></span>3.4 二手商品交易系统数据库概念设计

合理的数据库设计对应用系统的运行效率至关重要。优秀的数据库设计有助于 后期数据的维护,同时也能缩短整个系统的数据查询响应时间。一个恰当的数据库可 以有效地与整个系统的前端页面的代码进行协同,易于实现,提高整个系统的数据存 储能力,保证数据的完整性和一致性。

在当前现实世界里,事物与事物之间是存在着一定的联系,实体与实体之间的联 系可以分为三种,分别是:一对一联系,一对多联系,多对多联系。基于数据挖掘的 二手商品交易系统主要是对用户信息,商品信息的管理。下面将对本系统设计的实体 图进行分析。

二手商品交易平台的全局 E-R 模型如 3-3 图所示。

![](_page_19_Figure_3.jpeg)

图 3-3 系统实体关系 E-R 图

#### (1) 用户 E-R 图

用户除了自己账号两个实体,还涉及对于其他数据项,例如:用户 Id,用户角色 名称,角色状态,角色备注。

![](_page_20_Figure_0.jpeg)

图 3-4 系统角色实体图

#### (2) 数据库备份实体

数据库备份主要存储用户在平台上传的商品图片,商品信息等,方便后台商品管 理。

![](_page_20_Picture_4.jpeg)

图 3-5 数据库备份实体图

#### (3)后台用户实体

后台管理员可以针对用户信息管理,其中包括 Id,邮箱,头像,电话等等,同时 为了方便管理平台用户,此外一个用户的信用状态作为判断该用户的信誉行为。

![](_page_21_Figure_0.jpeg)

图 3-6 后台用户实体图

#### (3) 商品实体图

商品主要包括商品名称,商品类别,商品所属人,商品评论等可以用来方便搜索 商品。其次商品有一个主键,还有最关键的交易时候的原价和售价信息。

![](_page_21_Figure_4.jpeg)

图 3-7 商品实体图

#### <span id="page-21-0"></span>3.5 系统数据库逻辑设计

根据前面的对实体,以及实体与实体之间的逻辑关系分析,由此可开始进行我们 数据库表的设计。在该系统中都尽量使得每一块的子功能都是能相对独立存在的,并 且能够独立完成的。本系统数据库名称为 db\_secondhandmarket,数据库包括:User 表,Goods 表,Catelog 表(商品类别表,用来记录商品具体的类别),Comments 表(评 论表,用来具体记录商品的评论信息),Focus 表(用户的关注列表,用来记录用户关 注的具体信息),Image 表(图像表,主要记录平台整个商品的图片信息),Notice 表 (消息表,主要记录平台用户在个人中心所发布的求购信息),Orders 表(订单表, 主要记录平台具体的订单信息,包括订单时间,订单商品订单地址,订单状态),Purse 表(钱包表,用户在该平台购买物品需要在该平台内进行账户货币的充值,管理员审 核后用户才能有货币进行购买,此表用来记录用户钱包的具体数额),Reply 表,Admin 表。以下对其中部分表具体举例。

#### (1)User 表

这个表是用来存储系统用户相关信息的,包括用户 id、手机号码、昵称、密码、 QQ 号等。同时还记录了用户的创建时间、商品数量以及账号状态。

字段名 数据类型 是否可空 是否为主键 说明 User\_id Varchar(32) 否 是 编号 QQ Varchar(128) 是 否 邮件 Phone Varchar(16) 是 否 密码 Password Varchar(16) 是 否 手机号码 Status Tinyint 是 否 状态 Type Int 是 否 类型 Username Varchar(32) 是 否 用户名 Create\_at Varchar(20) 是 否 创建时间 Goods\_num Int 是 否 发布物品数量 Power 默认 100 是 否 用户信用积分 默认为 100

表 3-1 User 表

#### (2)Goods 表

该表用来存储系统平台物品的信息。其中包括物品 id,分类 id,物品名称,物品 原价,物品售价,发布时间,下架时间。

表 3-2 Goods 表

| 字段名        | 数据类型        | 是否可空 | 是否为主键 | 说明         |
|------------|-------------|------|-------|------------|
| Goods_id   | Int         | 否    | 是     | 编号         |
| Catelog_id | Int         | 是    | 否     | 物品分类       |
| User_id    | Int         | 是    | 否     | 所属用户<br>id |
| Name       | Varchar(50) | 是    | 否     | 物品名称       |
| Price      | Float       | 是    | 否     | 原价         |
| real_price | Float       | 是    | 否     | 实际出售价格     |
| start_time | Varchar(32) | 是    | 否     | 创建时间       |
| end_time   | Varchar(20) | 是    | 否     | 下架时间       |

#### (4) Focus 表

该表主要用来记录用户的关注信息,然后根据用户的关注进行相关的首页推荐

表 3-3 Focus 表

| 字段名      | 数据类型 | 是否可空 | 是否为主键 | 说明         |
|----------|------|------|-------|------------|
| Goods_id | Int  | 否    | 是     | 编号         |
| User_id  | Int  | 是    | 否     | 所属用户<br>id |

以下是基于数据挖掘的二手商品交易平台整个数据库表之间的 E-R 关系图,完 整详细的介绍了本系统表与表之间的逻辑关系,以及整个系统表的设计。

![](_page_24_Figure_0.jpeg)

图 3-8 数据库表 E-R 图

# 4 系统实现

<span id="page-25-0"></span>本系统主要使用的是 JavaScript,HTML,以及 CSS 来实现基于数据挖掘的前端 页面的开发,整体后端框架使用的是 Spring、Spring MVC 、和 MyBatis 框架的整合, 标准的 MVC 模式,SSM 框架。

# <span id="page-25-1"></span>4.1 登录模块代码设计以及页面展示

当用户进入平台网页后,可以在平台进行账号注册登录,以下是开发的登录模块 的代码示例。

图 4-1 登录模块 Dao 层代码部分截图

以上是 Dao 层中用来获取用户信息的截图,登录的具体实现流程是 Controller 层 负责接收用户登录请求,并调用 Service 层的方法进行登录验证。Service 层通过调用 Dao 层的方法来获取用户信息,并与用户输入的密码进行比对。如果登录成功,则将 用户对象存入 Session 中,重定向到首页;否则,在登录页面显示错误信息。

注册登陆是该系统的核心功能之一,其具体流程如下:

(1)注册流程:用户进入系统的网页或应用程序,并选择注册选项。系统自动 导航至注册页面,要求用户提供必要的注册信息,例如用户名、密码等。用户完成所 需信息的填写后,点击提交按钮。系统对用户输入的信息进行验证,包括检查用户名 是否已存在、密码的复杂度是否符合要求等。如果验证通过,系统将保存用户的注册 信息,并为其分配一个唯一的用户标识,如用户 ID。注册成功后,系统会自动跳转 至登录页面或直接完成登录过程。

(2)登陆流程:用户打开系统网页或应用程序,并点击登陆按钮。系统跳转至 登陆页面,要求用户输入已注册的用户名和密码。用户输入用户名和密码后,点击登 陆按钮。系统验证用户输入的用户名和密码是否匹配。如果验证通过,系统将生成一 个用户标识,用于标识用户的登陆状态。用户登陆成功后,系统将跳转至个人主页或 相关页面,展示用户的个人信息和功能选项。

注册登陆流程的实现通常涉及与数据库的交互和用户身份验证的操作。系统需 要确保用户的注册信息安全存储,并提供合适的身份验证机制,以保护用户的隐私和 系统的安全性。

![](_page_26_Picture_3.jpeg)

图 4-2 用户注册页面

![](_page_27_Picture_0.jpeg)

图 4-3 用户登录页面

# <span id="page-27-0"></span>4.2 订单模块代码设计以及页面展示

当用户成功登录系统以后,可以进行订单管理操作,以下是开发的订单模块的代 码示例。

图 4-4 订单生成代码模块

图 4-5 订单生成代码模块

上述代码示例中,Controller 层包含了创建订单和获取订单列表的方法。在创建 订单方法中,首先从 Session 中获取当前登录用户的信息,然后根据用户输入的订单 信息创建订单对象,并调用 Service 层的方法进行订单创建。在获取订单列表方法中, 同样从 Session 中获取当前登录用户的信息,并调用 Service 层的方法获取该用户的 订单列表。最后,将订单列表存入请求属性中,在页面中展示订单信息。

#### <span id="page-28-0"></span>4.3 商品模块代码设计以及页面展示

用户登录以后还可以进行对商品的浏览,购买,以及发布,以下着重介绍以下商 品信息模块的代码设计。

图 4-6 提交发布商品信息代码模块

图 4-7 查询商品信息代码模块

以上是Controller层包含了创建商品和获取商品列表的方法。在创建商品方法中, 根据用户输入的商品信息创建商品对象,并调用 Service 层的方法进行商品创建。在 获取商品列表方法中,调用 Service 层的方法获取所有商品的列表,并将商品列表存 入请求属性中,在页面中展示商品信息。

![](_page_30_Figure_0.jpeg)

图 4-8 个人发布商品信息页面

![](_page_30_Figure_2.jpeg)

图 4-9 发布商品页面

![](_page_30_Figure_4.jpeg)

图 4-10 商品详情页面

图 4-11 商品描述页面

#### <span id="page-31-0"></span>4.4 关于协同过滤实现的商品相似度计算示例

下图是实现推荐的计算商品相似度模块。

图 4-12 计算商品相似度计算代码截图

图 4-13 计算商品相似度计算代码截图

该 Java 代码示例实现了基于协同过滤的推荐算法中的商品相似度计算。通过遍 历用户-商品评分矩阵,计算目标用户与其他用户对每个商品的共同评分数量,然后 根据共同评分数量进行排序,选取与目标用户最相似的前 k 个商品。最后输出预测 的评分结果。

图 4-14 计算商品相似度计算代码截图

上述代码示例中,通过 addUserOrderHistory 方法添加不同用户的历史订单数据。

然后,通过 generateHomePageRecommendation 方法根据用户的历史订单数据进行推 荐分析,并生成首页推荐结果通过导入用户的历史订单数据,可以定期实现用户的个 性化推荐。

例如下图,是账号 A 的首页推荐页面。

![](_page_33_Figure_2.jpeg)

图 4-15 账号 A 的首页推荐内容

# <span id="page-33-0"></span>4.5 管理员部分页面展示

管理员登陆页面如图所示

![](_page_33_Picture_6.jpeg)

图 4-16 管理员登陆页面

#### 订单管理如图所示

![](_page_34_Figure_1.jpeg)

图 4-17 订单管理页面

#### 物品管理如图所示

![](_page_34_Figure_4.jpeg)

图 4-18 物品管理页面

#### 用户管理如图所示

![](_page_34_Figure_7.jpeg)

图 4-19 用户管理页面

# 5 系统测试

#### <span id="page-36-1"></span><span id="page-36-0"></span>5.1 系统测试的目的

系统测试在我们整个软件开发过程中都占有十分重要的位置,无论是什么开发 什么项目,在整个开发过程中,我们都需要及时止损,都需要在经过冒烟测试以后, 才能进行其他测试,以及系统的后续开发。测试的目的就是及时的,尽早的发现系统 存在的缺陷和问题,然后及时的纠正错误。确认软件系统是否能够满足预期的系统需 求和功能,检验软件系统的性能、稳定性、可用性、安全性、易用性等方面的特性, 以保证软件系统的质量和可靠性。

#### <span id="page-36-2"></span>5.2 测试方法

本系统开发到验收所用到的测试方法主要有:集成测试,确认测试,系统测试, 验收测试,以及黑盒测试和白盒测试。在进行功能测试的过程中主要用到的测试方法 是黑盒测试,主要用来检测系统的功能是否能满足需求。在了解系统内部的工作流程 时,采用的一般是白盒测试。例如单元测试,集成测试。

# <span id="page-36-3"></span>5.3 测试用例

3. 输入正确的 验证码,点击

由于本系统功能模块较多,测试内容篇幅过长,所以在本论文中只介绍推荐内容 实现测试用例设计。

功能特性 首页内容推荐 测试目的 验证不同账号登录时首页推荐内容的差异 测试数据 用户 A 账号:13720247897 密码:123456 用户 B 账号:18995621534 密码:123455 用户 C 账号:12345678901 密码:123456 测试目的 操作描述 数据 期望结果 实际结果 测试状态 验证账号 A 的首页 推荐内容 1. 打开系统, 点击登录按 钮。 2. 输入正确格 式的手机号, 点击发送验证 码。 用户账号: 13720247897 密码:123456 根据用户 A 的 历史订单和偏 好,生成的首 页推荐内容 根据用户 A 的历史 订单和偏好,生成的 首页推荐内容 与期望结 果相同

表 5-1 登录测试用例表

|                                      | 登录按钮                                                                                         |                                         |                                                  |                                              |             |
|--------------------------------------|----------------------------------------------------------------------------------------------|-----------------------------------------|--------------------------------------------------|----------------------------------------------|-------------|
| 验证账号<br>B 的首页<br>推荐内容                | 1. 打开系统,<br>点击登录按<br>钮。<br>2. 不输入手机<br>号,点击发送<br>验证码。<br>3. 输入正确的<br>验证码,点击<br>登录按钮。         | 用户<br>B 账号:<br>18995621534<br>密码:123455 | 根据用户<br>B 的<br>历史订单和偏<br>好,生成的首<br>页推荐内容         | 根据用户<br>B 的历史订<br>单和偏好,生成的首<br>页推荐内容         | 与期望结<br>果相同 |
| 验证账号<br>C 首页推<br>荐内容                 | 1. 打开系统,<br>点击登录按<br>钮。<br>2. 输入格式错<br>误的手机号,<br>点击发送验证<br>码。<br>3. 输入正确的<br>验证码,点击<br>登录按钮。 | 用户<br>C 账号:<br>12345678901<br>密码:123456 | 根据用户<br>C 的<br>历史订单和偏<br>好,生成的首<br>页推荐内容         | 根据用户<br>C 的历史订<br>单和偏好,生成的首<br>页推荐内容         | 与期望结<br>果相同 |
| 验证未登<br>录状态首<br>页推荐内<br>容            | 1.进入网页首<br>页。<br>2. 保持未登陆<br>状态浏览首页                                                          | 无账号登录                                   | 通用的首页推<br>荐内容,不考<br>虑个性化推荐                       | 通用的首页推荐内<br>容,不考虑个性化推<br>荐                   | 与期望结<br>果相同 |
| 用户<br>A<br>登录后购<br>买新商品<br>后推荐首<br>页 | 1.登入账号<br>A,进行购买<br>某商品。<br>2.退出账号<br>A,再次登录<br>A 账号,观察<br>首页推荐。                             | 用户账号:<br>13720247897<br>密码:123456       | 根据用户<br>A 的<br>更新历史订单<br>和偏好,生成<br>的新的首页推<br>荐内容 | 根据用户<br>A 的更新<br>历史订单和偏好,生<br>成的新的首页推荐内<br>容 | 与期望结<br>果相同 |

通过以上测试用例,可以验证不同账号登录时首页推荐内容的差异性。每个测试 用例都模拟了不同的用户登录,并根据其历史订单和偏好生成相应的首页推荐内容。 在特定情况下,如用户购买了新商品或者没有登录的情况下,也验证了相应的预期输 出结果。这样可以确保首页推荐系统根据不同用户的个性化需求生成不同的推荐内 容。

# <span id="page-38-0"></span>5.4 测试结果分析

针对上述基于数据挖掘的二手商品交易系统,我们进行了一些测试以评估其性 能和准确性。首先,我们从数据库中随机选择了一些商品,并使用协同过滤达到用户 的个性化推荐效果。然后,我们通过该系统的推荐功能,得到了一些推荐列表。我们 随机选择了一些商品,查看它们是否在推荐列表中,并观察推荐的商品与所选商品之 间的相似性。

首先,我们针对不同用户进行了登录和浏览操作,并观察了系统对推荐商品的响 应。通过分析测试数据,我们发现不同用户在登录后,确实获得了个性化的首页推荐 结果。这表明协同过滤算法能够根据用户的历史订单数据,为每个用户生成不同的推 荐列表,提供符合他们兴趣和偏好的二手商品。

其次,我们对系统进行了多个场景的测试,包括用户搜索商品、发布商品和进行 交易等操作。通过模拟不同用户行为,我们发现系统能够准确地识别用户的兴趣,并 为其推荐相关的商品。同时,系统还能够根据用户的实时行为调整推荐结果,使得推 荐的商品更加符合用户的需求。

总体而言,基于协同过滤的推荐算法在二手商品交易平台中表现出良好的推荐 效果。通过分析用户的历史订单数据,系统能够准确地理解用户的兴趣和喜好,并为 其推荐符合其偏好的商品。同时,算法的高效性和可扩展性确保了系统能够应对大规 模用户数据的处理需求。

然而,我们也注意到一些潜在的改进空间。例如,可以进一步优化算法的推荐精 度,通过引入更多的特征和算法优化策略来提高推荐的准确性。此外,我们还可以考 虑引入用户反馈机制,通过用户的评价和反馈来进一步优化推荐结果。

综上所述,基于数据挖掘的二手商品交易平台中展现出了良好的性能和效果。通 过个性化的推荐服务,系统能够提高用户的交易满意度,促进二手商品的流通和再利 用。我们相信,在进一步的优化和改进下,这个基于协同过滤的推荐系统将为用户提 供更加精准和个性化的推荐体验。

# 6 研究成果与社会、经济等关系

<span id="page-39-0"></span>基于数据挖掘的二手商品交易系统是一种利用数据挖掘技术实现市场精准化和 优化的二手商品交易系统。该系统可以通过对用户行为的分析,实现二手商品的精准 推荐、优化销售策略,从而提高市场效率和交易效益。该系统的研究成功不仅对社会 和经济都具有重要的意义和价值,而且可以在实践中应用于二手商品交易市场的管 理与运营。

首先,该系统的研究成功对二手商品交易市场的有效管理具有重要的意义。在二 手商品交易市场中,商家和买家的需求和行为多种多样。通过对数据挖掘技术的应 用,可以对商家和买家的行为进行分析,帮助商家优化销售策略和供应链管理,提高 销售额和市场占有率;同时,系统也可以为买家提供更好的商品推荐和购买体验,提 高用户忠诚度和购买意愿。这样,该系统可以为二手商品交易市场的管理和运营提供 有效的支持和促进。

其次,该系统的研究成功对经济发展有积极的影响。二手商品交易市场在现代经 济中贡献越来越多的经济价值。通过系统的建设和推广,可以扩大二手商品市场的规 模和交易量,在商品消费升级的时代背景下满足人们多元化的需求,进一步拉动经济 的发展。此外,二手商品交易市场的发展还能够通过广泛的供应链管理和变现服务, 为消费者和商家提供更加便利的服务和更多的福利。

最后,该系统在数据挖掘技术方面的应用还为相关领域的发展做出了贡献。数据 挖掘技术在市场分析、用户行为分析、风险管理等各个领域都具有广泛的应用前景。 通过对该系统研究的理解和运用,可以为数据挖掘领域的发展和应用提供新的思路 和方法,进一步推动数据科技与实际应用融合的进程。

综上所述,基于数据挖掘的二手商品交易系统的研究成功对社会、经济等方面都 具有重要的意义和价值。该系统的应用可以使二手商品交易市场的管理和运营更加 高效和便捷,在推动经济发展的同时也为数据科技的发展和应用带来积极的推动和 突破。

# 结 论

<span id="page-40-0"></span>本文基于数据挖掘的二手商品交易系统,采用协同过滤的推荐算法,为用户提供 了个性化的推荐服务。通过测试,我们发现该系统具有较高的准确性和效率,能够为 用户提供更加精准和个性化的推荐服务。

在本文中,我们首先介绍了商品推荐系统的相关背景和研究现状,以及数据挖掘 在商品推荐中的应用。接着,我们详细介绍了系统的设计和实现过程,通过分析用户 的历史订单数据和行为,算法能够准确地理解用户的兴趣和偏好,为每个用户生成个 性化的推荐列表。不同用户登录后,系统能够根据其历史数据和相似用户的行为,为 其推荐符合其兴趣的二手商品。这种个性化的推荐能够提高用户的满意度和交易成 功率,增加平台的活跃度和用户留存率。

其次,我们测试了系统在不同场景下的性能和稳定性。通过模拟多个用户同时进 行浏览、搜索、发布和交易等操作,我们发现系统能够在短时间内响应并提供准确的 推荐结果。系统的处理速度和资源消耗都在可接受的范围内,具备良好的可扩展性。 这对于处理大量用户数据和高并发访问是至关重要的,确保系统能够稳定地运行和 为用户提供良好的体验。

此外,我们对推荐算法的准确性和多样性进行了评估。通过比对推荐结果和用户 的实际行为,我们发现算法的准确性较高,能够较为准确地预测用户的喜好和行为。 同时,算法还能够保持一定的推荐多样性,避免陷入过于固化的推荐结果,给用户带 来更多的选择。这种准确性和多样性的平衡是推荐系统中的重要考量,也是用户体验 的关键因素。

然而,在测试过程中我们也发现了一些潜在的改进空间。首先,可以进一步优化 算法的推荐精度,通过引入更多的特征和算法优化策略来提高推荐的准确性。例如, 可以考虑引入用户的地理位置、社交关系等信息,以及应用更复杂的算法模型来提升 推荐的精度。其次,可以加强用户反馈机制,鼓励用户对推荐结果进行评价和反馈, 以便系统可以根据用户的喜好和偏好进行动态调整和优化。

综上所述,基于数据挖掘的二手商品交易系统是一个有用的工具,可以根据用户 的历史行为和兴趣,为他们提供个性化的推荐列表。虽然推荐算法仍然需要不断改进 和优化,以提高系统的准确性和用户满意度,但该系统已经具有较高的准确性和效 率,能够为用户提供更加精准和个性化的推荐服务。未来,我们可以进一步探索其他 数据挖掘技术在商品推荐。

# 致 谢

<span id="page-43-0"></span>经过这段日子,基于数据挖掘的二手商品交易系统也结束了,论文结束我整个本 科生活也即将结束。

在我即将毕业的时刻,我想要向所有在我学习期间帮助过我的人们表达我的谢 意。我在学术和生活上得到了许多的支持和鼓励,没有你们,我将无法完成我的学业。

首先,我要感谢我的导师董红斌和高巍老师。在我整个本科学习过程中,感谢您 对我的指导和鼓励。您的关注和帮助使我充满信心和动力。我特别感激您悉心指导我 独立思考,提出问题,发掘解决问题的方法,这让我在学术研究上获得了不少进展。 您对我毕业论文的悉心指导,是我完成毕业论文的重要支持。

同时,我还要感谢我的家人,他们一直支持我并给予我无尽的爱和帮助。无论我 在学业或生活中遇到什么困难,他们总是支持和鼓励我,没有他们,我将难以克服一 些困难。

感谢我的同学们,和他们一起度过了这段难忘的时光。他们在学习上的帮助和支 持,让我感到在这个大家庭中不再孤单。我们之间的友谊和支持,将永远留在我的记 忆中。

感谢学校和老师们,为我提供了一个优质的学习和生活环境,让我能够在这里学 习和成长。学校为我提供了丰富的学习资源,让我能够充分利用这些资源发展自己的 潜力。

最后,我也要感谢自己。在这个过程中,我不仅仅是学到了知识,也提升了自己 的思考和解决问题的能力。我相信这些能力将在我的未来的职业发展中发挥重要的 作用。我坚信自己的毅力和决心,使我成功完成了本科学业。在我的生命旅程中,每 个人都给予了我无数的鼓励和支持,让我成为了今天的我。虽然这篇毕业论文只是一 个小小的成就,但它是在所有人的支持和帮助下取得的。对于这些帮助,我将永远感 激不尽。

# 参考文献

- <span id="page-45-0"></span>[1] 申慧颖 , 郭彦鹏 . 电子商务背景下创建校园二手平台的构想 [J]. 大众科 技,2021,23(02):13-16.
- [2] 王辉,李昌刚. 基于机器学习的商品特性表征和客户偏好预测[J]. 计算机应用与 软件, 2022, 39(09): 158-166.
- [3] 顾徐斌.论电子商务平台个性化推荐的实现[J].全国流通经济,2021,No.2273(05):9- 11.
- [4] 陶庆凤. 基于 Apriori 算法的电子商务个性化推荐系统研究[J]. 重庆科技学院学 报(自然科学版),2020,22(06):62-64.
- [5] 丁文林.基于关联规则的 Apriori 算法在推荐系统的应用[J].信息与电脑(理论 版),2021,33(14):44-46.
- [6] 王益国,何洪剑,高娟. 基于混合推荐模型的校园二手商品推荐算法[J]. 信息技术 与信息化, 2021, No.258(09): 106-108.
- [7] 张文龙,钱付兰,陈洁等.基于双重最相关注意力网络的协同过滤推荐算法[J].计算 机应用,2020,40(12):3445-3450.
- [8] 刘晓蒙 . 基于协同过滤的学习资源推荐算法 [J]. 信息与电脑 ( 理 论 版),2023,35(01):63-65.
- [9] 刘丰维.基于用户历史行为序列的电商个性化推荐系统[J].科技创新与应 用,2021,11(33):59-62.
- [10]李亚欣,蔡永香,张根.结合实时推荐与离线推荐的推荐系统[J].计算机系统应 用,2019,28(10):45-52.
- [11]张岩.基于 Spark 框架的电商实时推荐系统的设计与实现[J].信息记录材 料,2022,23(03):87-89.
- [12]王宝军.基于商品标签化与关联规则的电子商务商品关联推荐研究[J].商场现代 化,2020,No.920(11):8-10.

- [13]关菲,周艺,张晗.个性化推荐系统中协同过滤推荐算法优化研究[J].运筹与管 理,2022,31(11):9-14.
- [14]Li M Y , Fan Z P , Li B , et al. A matching method for secondhand goods exchange considering loss aversion of buyer and seller in ebrokerage[J]. Soft Computing, 2021(3), 38-42.
- [15]Aijun L ,Yaxuan X ,Zengxian L , et al. An agent‐based multiattribute reverse auction approach for online secondhand commodities [J]. Managerial and Decision Economics,2021,43(1).